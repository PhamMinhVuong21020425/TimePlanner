"use strict";(self.webpackChunkserver=self.webpackChunkserver||[]).push([[875],{92854:(e,t,a)=>{a.d(t,{N:()=>H});var n=a(70655),o=a(35144),i=a(93321),r=a(41525),l=a(38154);const s=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,n.ZT)(t,e),t.prototype.getInitialData=function(e){return(0,o.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new l.Z,a=(0,r.th)("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(a),a.setStyle(e.lineStyle);var n=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),i="none"===n?"circle":n,s=.8*e.itemHeight,u=(0,r.th)(i,(e.itemWidth-s)/2,(e.itemHeight-s)/2,s,s,e.itemStyle.fill);t.add(u),u.setStyle(e.itemStyle);var d="inherit"===e.iconRotate?o:e.iconRotate||0;return u.rotation=d*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),i.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),t},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(i.Z);var u=a(33051),d=a(68162),h=a(66351),c=a(99936);function p(e,t,a){var n=e.getBaseAxis(),o=e.getOtherAxis(n),i=function(e,t){var a=0,n=e.scale.getExtent();"start"===t?a=n[0]:"end"===t?a=n[1]:(0,u.isNumber)(t)&&!isNaN(t)?a=t:n[0]>0?a=n[0]:n[1]<0&&(a=n[1]);return a}(o,a),r=n.dim,l=o.dim,s=t.mapDimension(l),d=t.mapDimension(r),h="x"===l||"radius"===l?1:0,p=(0,u.map)(e.dimensions,(function(e){return t.mapDimension(e)})),g=!1,f=t.getCalculationInfo("stackResultDimension");return(0,c.M)(t,p[0])&&(g=!0,p[0]=f),(0,c.M)(t,p[1])&&(g=!0,p[1]=f),{dataDimsForPoint:p,valueStart:i,valueAxisDim:l,baseAxisDim:r,stacked:!!g,valueDim:s,baseDim:d,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function g(e,t,a,n){var o=NaN;e.stacked&&(o=a.get(a.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=e.valueStart);var i=e.baseDataOffset,r=[];return r[i]=a.get(e.baseDim,n),r[1-i]=o,t.dataToPoint(r)}var f=a(80887);var y=a(74438),v=a(44292),m=a(96498),x=a(32234),b=a(30633),w=a(75797),S=a(22963),_=a(31073),I=a(26357),M=a(36006),L=a(33140),D=a(30106),N=a(78988),T=a(21092);function A(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++)if(e[a]!==t[a])return;return!0}}function C(e){for(var t=1/0,a=1/0,n=-1/0,o=-1/0,i=0;i<e.length;){var r=e[i++],l=e[i++];isNaN(r)||(t=Math.min(r,t),n=Math.max(r,n)),isNaN(l)||(a=Math.min(l,a),o=Math.max(l,o))}return[[t,a],[n,o]]}function P(e,t){var a=C(e),n=a[0],o=a[1],i=C(t),r=i[0],l=i[1];return Math.max(Math.abs(n[0]-r[0]),Math.abs(n[1]-r[1]),Math.abs(o[0]-l[0]),Math.abs(o[1]-l[1]))}function Z(e){return u.isNumber(e)?e:e?.5:0}function k(e,t,a,n){var o=t.getBaseAxis(),i="x"===o.dim||"radius"===o.dim?0:1,r=[],l=0,s=[],u=[],d=[],h=[];if(n){for(l=0;l<e.length;l+=2)isNaN(e[l])||isNaN(e[l+1])||h.push(e[l],e[l+1]);e=h}for(l=0;l<e.length-2;l+=2)switch(d[0]=e[l+2],d[1]=e[l+3],u[0]=e[l],u[1]=e[l+1],r.push(u[0],u[1]),a){case"end":s[i]=d[i],s[1-i]=u[1-i],r.push(s[0],s[1]);break;case"middle":var c=(u[i]+d[i])/2,p=[];s[i]=p[i]=c,s[1-i]=u[1-i],p[1-i]=d[1-i],r.push(s[0],s[1]),r.push(p[0],p[1]);break;default:s[i]=u[i],s[1-i]=d[1-i],r.push(s[0],s[1])}return r.push(e[l++],e[l++]),r}function V(e,t,a){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===t.type){for(var o,i,r=n.length-1;r>=0;r--){var l=e.getDimensionInfo(n[r].dimension);if("x"===(o=l&&l.coordDim)||"y"===o){i=n[r];break}}if(i){var s=t.getAxis(o),d=u.map(i.stops,(function(e){return{coord:s.toGlobalCoord(s.dataToCoord(e.value)),color:e.color}})),h=d.length,c=i.outerColors.slice();h&&d[0].coord>d[h-1].coord&&(d.reverse(),c.reverse());var p=function(e,t){var a,n,o=[],i=e.length;function r(e,t,a){var n=e.coord,o=(a-n)/(t.coord-n);return{coord:a,color:(0,T.lerp)(o,[e.color,t.color])}}for(var l=0;l<i;l++){var s=e[l],u=s.coord;if(u<0)a=s;else{if(u>t){n?o.push(r(n,s,t)):a&&o.push(r(a,s,0),r(a,s,t));break}a&&(o.push(r(a,s,0)),a=null),o.push(s),n=s}}return o}(d,"x"===o?a.getWidth():a.getHeight()),g=p.length;if(!g&&h)return d[0].coord<0?c[1]?c[1]:d[h-1].color:c[0]?c[0]:d[0].color;var f=p[0].coord-10,v=p[g-1].coord+10,m=v-f;if(m<.001)return"transparent";u.each(p,(function(e){e.offset=(e.coord-f)/m})),p.push({offset:g?p[g-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:g?p[0].offset:.5,color:c[0]||"transparent"});var x=new y.Z(0,0,0,0,p,!0);return x[o]=f,x[o+"2"]=v,x}}}function R(e,t,a){var n=e.get("showAllSymbol"),o="auto"===n;if(!n||o){var i=a.getAxesByScale("ordinal")[0];if(i&&(!o||!function(e,t){var a=e.getExtent(),n=Math.abs(a[1]-a[0])/e.scale.count();isNaN(n)&&(n=0);for(var o=t.count(),i=Math.max(1,Math.round(o/5)),r=0;r<o;r+=i)if(1.5*h.Z.getSymbolSize(t,r)[e.isHorizontal()?1:0]>n)return!1;return!0}(i,t))){var r=t.mapDimension(i.dim),l={};return u.each(i.getViewLabels(),(function(e){var t=i.scale.getRawOrdinalNumber(e.tickValue);l[t]=1})),function(e){return!l.hasOwnProperty(t.get(r,e))}}}}function E(e,t){return[e[2*t],e[2*t+1]]}function G(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<I.L1.length;t++)if(e.get([I.L1[t],"endLabel","show"]))return!0;return!1}function O(e,t,a,n){if((0,_.H)(t,"cartesian2d")){var o=n.getModel("endLabel"),i=o.get("valueAnimation"),r=n.getData(),l={lastFrameIndex:0},s=G(n)?function(a,n){e._endLabelOnDuring(a,n,r,l,i,o,t)}:null,u=t.getBaseAxis().isHorizontal(),d=(0,S.ID)(t,a,n,(function(){var t=e._endLabel;t&&a&&null!=l.originalX&&t.attr({x:l.originalX,y:l.originalY})}),s);if(!n.get("clip",!0)){var h=d.shape,c=Math.max(h.width,h.height);u?(h.y-=c,h.height+=2*c):(h.x-=c,h.width+=2*c)}return s&&s(1,d),d}return(0,S.X0)(t,a,n)}var z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.prototype.init=function(){var e=new l.Z,t=new d.Z;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,a){var n=this,o=e.coordinateSystem,i=this.group,r=e.getData(),l=e.getModel("lineStyle"),s=e.getModel("areaStyle"),d=r.getLayout("points")||[],h="polar"===o.type,c=this._coordSys,y=this._symbolDraw,m=this._polyline,x=this._polygon,b=this._lineGroup,w=!t.ssr&&e.isAnimationEnabled(),S=!s.isEmpty(),_=s.get("origin"),M=p(o,r,_),L=S&&function(e,t,a){if(!a.valueDim)return[];for(var n=t.count(),o=(0,f.o)(2*n),i=0;i<n;i++){var r=g(a,e,t,i);o[2*i]=r[0],o[2*i+1]=r[1]}return o}(o,r,M),T=e.get("showSymbol"),C=e.get("connectNulls"),P=T&&!h&&R(e,r,o),E=this._data;E&&E.eachItemGraphicEl((function(e,t){e.__temp&&(i.remove(e),E.setItemGraphicEl(t,null))})),T||y.remove(),i.add(b);var G,z=!h&&e.get("step");o&&o.getArea&&e.get("clip",!0)&&(null!=(G=o.getArea()).width?(G.x-=.1,G.y-=.1,G.width+=.2,G.height+=.2):G.r0&&(G.r0-=.5,G.r+=.5)),this._clipShapeForSymbol=G;var B=V(r,o,a)||r.getVisual("style")[r.getVisual("drawType")];if(m&&c.type===o.type&&z===this._step){S&&!x?x=this._newPolygon(d,L):x&&!S&&(b.remove(x),x=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,(0,N.Lz)(B));var W=b.getClipPath();if(W){var F=O(this,o,!1,e);v.KZ(W,{shape:F.shape},e)}else b.setClipPath(O(this,o,!0,e));T&&y.updateData(r,{isIgnore:P,clipShape:G,disableAnimation:!0,getSymbolPoint:function(e){return[d[2*e],d[2*e+1]]}}),A(this._stackedOnPoints,L)&&A(this._points,d)||(w?this._doUpdateAnimation(r,L,o,a,z,_,C):(z&&(d=k(d,o,z,C),L&&(L=k(L,o,z,C))),m.setShape({points:d}),x&&x.setShape({points:d,stackedOnPoints:L})))}else T&&y.updateData(r,{isIgnore:P,clipShape:G,disableAnimation:!0,getSymbolPoint:function(e){return[d[2*e],d[2*e+1]]}}),w&&this._initSymbolLabelAnimation(r,o,G),z&&(d=k(d,o,z,C),L&&(L=k(L,o,z,C))),m=this._newPolyline(d),S?x=this._newPolygon(d,L):x&&(b.remove(x),x=this._polygon=null),h||this._initOrUpdateEndLabel(e,o,(0,N.Lz)(B)),b.setClipPath(O(this,o,!0,e));var H=e.getModel("emphasis"),X=H.get("focus"),Y=H.get("blurScope"),U=H.get("disabled");(m.useStyle(u.defaults(l.getLineStyle(),{fill:"none",stroke:B,lineJoin:"bevel"})),(0,I.WO)(m,e,"lineStyle"),m.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"]))&&(m.getState("emphasis").style.lineWidth=+m.style.lineWidth+1);(0,D.A)(m).seriesIndex=e.seriesIndex,(0,I.k5)(m,X,Y,U);var q=Z(e.get("smooth")),j=e.get("smoothMonotone");if(m.setShape({smooth:q,smoothMonotone:j,connectNulls:C}),x){var K=r.getCalculationInfo("stackedOnSeries"),J=0;x.useStyle(u.defaults(s.getAreaStyle(),{fill:B,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),K&&(J=Z(K.get("smooth"))),x.setShape({smooth:q,stackedOnSmooth:J,smoothMonotone:j,connectNulls:C}),(0,I.WO)(x,e,"areaStyle"),(0,D.A)(x).seriesIndex=e.seriesIndex,(0,I.k5)(x,X,Y,U)}var $=function(e){n._changePolyState(e)};r.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=$)})),this._polyline.onHoverStateChange=$,this._data=r,this._coordSys=o,this._stackedOnPoints=L,this._points=d,this._step=z,this._valueOrigin=_,e.get("triggerLineEvent")&&(this.packEventData(e,m),x&&this.packEventData(e,x))},t.prototype.packEventData=function(e,t){(0,D.A)(t).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,t,a,n){var o=e.getData(),i=x.gO(o,n);if(this._changePolyState("emphasis"),!(i instanceof Array)&&null!=i&&i>=0){var r=o.getLayout("points"),l=o.getItemGraphicEl(i);if(!l){var s=r[2*i],u=r[2*i+1];if(isNaN(s)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s,u))return;var d=e.get("zlevel")||0,c=e.get("z")||0;(l=new h.Z(o,i)).x=s,l.y=u,l.setZ(d,c);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=c,p.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(i,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else w.Z.prototype.highlight.call(this,e,t,a,n)},t.prototype.downplay=function(e,t,a,n){var o=e.getData(),i=x.gO(o,n);if(this._changePolyState("normal"),null!=i&&i>=0){var r=o.getItemGraphicEl(i);r&&(r.__temp?(o.setItemGraphicEl(i,null),this.group.remove(r)):r.downplay())}else w.Z.prototype.downplay.call(this,e,t,a,n)},t.prototype._changePolyState=function(e){var t=this._polygon;(0,I.Gl)(this._polyline,e),t&&(0,I.Gl)(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new b.X({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new b.K({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(a),this._polygon=a,a},t.prototype._initSymbolLabelAnimation=function(e,t,a){var n,o,i=t.getBaseAxis(),r=i.inverse;"cartesian2d"===t.type?(n=i.isHorizontal(),o=!1):"polar"===t.type&&(n="angle"===i.dim,o=!0);var l=e.hostModel,s=l.get("animationDuration");u.isFunction(s)&&(s=s(null));var d=l.get("animationDelay")||0,h=u.isFunction(d)?d(null):d;e.eachItemGraphicEl((function(e,i){var l=e;if(l){var c=[e.x,e.y],p=void 0,g=void 0,f=void 0;if(a)if(o){var y=a,v=t.pointToCoord(c);n?(p=y.startAngle,g=y.endAngle,f=-v[1]/180*Math.PI):(p=y.r0,g=y.r,f=v[0])}else{var m=a;n?(p=m.x,g=m.x+m.width,f=e.x):(p=m.y+m.height,g=m.y,f=e.y)}var x=g===p?0:(f-p)/(g-p);r&&(x=1-x);var b=u.isFunction(d)?d(i):s*x+h,w=l.getSymbolPath(),S=w.getTextContent();l.attr({scaleX:0,scaleY:0}),l.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),S&&S.animateFrom({style:{opacity:0}},{duration:300,delay:b}),w.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,a){var n=e.getModel("endLabel");if(G(e)){var o=e.getData(),i=this._polyline,r=o.getLayout("points");if(!r)return i.removeTextContent(),void(this._endLabel=null);var l=this._endLabel;l||((l=this._endLabel=new m.ZP({z2:200})).ignoreClip=!0,i.setTextContent(this._endLabel),i.disableLabelAnimation=!0);var s=function(e){for(var t,a,n=e.length/2;n>0&&(t=e[2*n-2],a=e[2*n-1],isNaN(t)||isNaN(a));n--);return n-1}(r);s>=0&&((0,M.ni)(i,(0,M.k3)(e,"endLabel"),{inheritColor:a,labelFetcher:e,labelDataIndex:s,defaultText:function(e,t,a){return null!=a?(0,L.O)(o,a):(0,L.H)(o,e)},enableTextSetter:!0},function(e,t){var a=t.getBaseAxis(),n=a.isHorizontal(),o=a.inverse,i=n?o?"right":"left":"center",r=n?"middle":o?"top":"bottom";return{normal:{align:e.get("align")||i,verticalAlign:e.get("verticalAlign")||r}}}(n,t)),i.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,a,n,o,i,r){var l=this._endLabel,s=this._polyline;if(l){e<1&&null==n.originalX&&(n.originalX=l.x,n.originalY=l.y);var u=a.getLayout("points"),d=a.hostModel,h=d.get("connectNulls"),c=i.get("precision"),p=i.get("distance")||0,g=r.getBaseAxis(),f=g.isHorizontal(),y=g.inverse,v=t.shape,m=y?f?v.x:v.y+v.height:f?v.x+v.width:v.y,b=(f?p:0)*(y?-1:1),w=(f?0:-p)*(y?-1:1),S=f?"x":"y",_=function(e,t,a){for(var n,o,i=e.length/2,r="x"===a?0:1,l=0,s=-1,u=0;u<i;u++)if(o=e[2*u+r],!isNaN(o)&&!isNaN(e[2*u+1-r]))if(0!==u){if(n<=t&&o>=t||n>=t&&o<=t){s=u;break}l=u,n=o}else n=o;return{range:[l,s],t:(t-n)/(o-n)}}(u,m,S),I=_.range,L=I[1]-I[0],D=void 0;if(L>=1){if(L>1&&!h){var N=E(u,I[0]);l.attr({x:N[0]+b,y:N[1]+w}),o&&(D=d.getRawValue(I[0]))}else{(N=s.getPointOn(m,S))&&l.attr({x:N[0]+b,y:N[1]+w});var T=d.getRawValue(I[0]),A=d.getRawValue(I[1]);o&&(D=x.pk(a,c,T,A,_.t))}n.lastFrameIndex=I[0]}else{var C=1===e||n.lastFrameIndex>0?I[0]:0;N=E(u,C);o&&(D=d.getRawValue(C)),l.attr({x:N[0]+b,y:N[1]+w})}if(o){var P=(0,M.qA)(l);"function"==typeof P.setLabelText&&P.setLabelText(D)}}},t.prototype._doUpdateAnimation=function(e,t,a,n,o,i,r){var l=this._polyline,s=this._polygon,u=e.hostModel,d=function(e,t,a,n,o,i,r,l){for(var s=function(e,t){var a=[];return t.diff(e).add((function(e){a.push({cmd:"+",idx:e})})).update((function(e,t){a.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){a.push({cmd:"-",idx:e})})).execute(),a}(e,t),u=[],d=[],h=[],c=[],y=[],v=[],m=[],x=p(o,t,r),b=e.getLayout("points")||[],w=t.getLayout("points")||[],S=0;S<s.length;S++){var _=s[S],I=!0,M=void 0,L=void 0;switch(_.cmd){case"=":M=2*_.idx,L=2*_.idx1;var D=b[M],N=b[M+1],T=w[L],A=w[L+1];(isNaN(D)||isNaN(N))&&(D=T,N=A),u.push(D,N),d.push(T,A),h.push(a[M],a[M+1]),c.push(n[L],n[L+1]),m.push(t.getRawIndex(_.idx1));break;case"+":var C=_.idx,P=x.dataDimsForPoint,Z=o.dataToPoint([t.get(P[0],C),t.get(P[1],C)]);L=2*C,u.push(Z[0],Z[1]),d.push(w[L],w[L+1]);var k=g(x,o,t,C);h.push(k[0],k[1]),c.push(n[L],n[L+1]),m.push(t.getRawIndex(C));break;case"-":I=!1}I&&(y.push(_),v.push(v.length))}v.sort((function(e,t){return m[e]-m[t]}));var V=u.length,R=(0,f.o)(V),E=(0,f.o)(V),G=(0,f.o)(V),O=(0,f.o)(V),z=[];for(S=0;S<v.length;S++){var B=v[S],W=2*S,F=2*B;R[W]=u[F],R[W+1]=u[F+1],E[W]=d[F],E[W+1]=d[F+1],G[W]=h[F],G[W+1]=h[F+1],O[W]=c[F],O[W+1]=c[F+1],z[S]=y[B]}return{current:R,next:E,stackedOnCurrent:G,stackedOnNext:O,status:z}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),h=d.current,c=d.stackedOnCurrent,y=d.next,m=d.stackedOnNext;if(o&&(h=k(d.current,a,o,r),c=k(d.stackedOnCurrent,a,o,r),y=k(d.next,a,o,r),m=k(d.stackedOnNext,a,o,r)),P(h,y)>3e3||s&&P(c,m)>3e3)return l.stopAnimation(),l.setShape({points:y}),void(s&&(s.stopAnimation(),s.setShape({points:y,stackedOnPoints:m})));l.shape.__points=d.current,l.shape.points=h;var x={shape:{points:y}};d.current!==h&&(x.shape.__points=d.next),l.stopAnimation(),v.D(l,x,u),s&&(s.setShape({points:h,stackedOnPoints:c}),s.stopAnimation(),v.D(s,{shape:{stackedOnPoints:m}},u),l.shape.points!==s.shape.points&&(s.shape.points=l.shape.points));for(var b=[],w=d.status,S=0;S<w.length;S++){if("="===w[S].cmd){var _=e.getItemGraphicEl(w[S].idx1);_&&b.push({el:_,ptIdx:S})}}l.animators&&l.animators.length&&l.animators[0].during((function(){s&&s.dirtyShape();for(var e=l.shape.__points,t=0;t<b.length;t++){var a=b[t].el,n=2*b[t].ptIdx;a.x=e[n],a.y=e[n+1],a.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,a=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),a&&a.eachItemGraphicEl((function(e,n){e.__temp&&(t.remove(e),a.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(w.Z);const B=z;var W=a(21149),F=a(64088);function H(e){e.registerChartView(B),e.registerSeriesModel(s),e.registerLayout((0,W.Z)("line",!0)),e.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(0,F.Z)("line"))}},30633:(e,t,a)=>{a.d(t,{K:()=>g,X:()=>c});var n=a(70655),o=a(8846),i=a(14014),r=a(18554),l=Math.min,s=Math.max;function u(e,t){return isNaN(e)||isNaN(t)}function d(e,t,a,n,o,i,r,d,h){for(var c,p,g,f,y,v,m=a,x=0;x<n;x++){var b=t[2*m],w=t[2*m+1];if(m>=o||m<0)break;if(u(b,w)){if(h){m+=i;continue}break}if(m===a)e[i>0?"moveTo":"lineTo"](b,w),g=b,f=w;else{var S=b-c,_=w-p;if(S*S+_*_<.5){m+=i;continue}if(r>0){for(var I=m+i,M=t[2*I],L=t[2*I+1];M===b&&L===w&&x<n;)x++,m+=i,M=t[2*(I+=i)],L=t[2*I+1],S=(b=t[2*m])-c,_=(w=t[2*m+1])-p;var D=x+1;if(h)for(;u(M,L)&&D<n;)D++,M=t[2*(I+=i)],L=t[2*I+1];var N=.5,T=0,A=0,C=void 0,P=void 0;if(D>=n||u(M,L))y=b,v=w;else{T=M-c,A=L-p;var Z=b-c,k=M-b,V=w-p,R=L-w,E=void 0,G=void 0;if("x"===d){var O=T>0?1:-1;y=b-O*(E=Math.abs(Z))*r,v=w,C=b+O*(G=Math.abs(k))*r,P=w}else if("y"===d){var z=A>0?1:-1;y=b,v=w-z*(E=Math.abs(V))*r,C=b,P=w+z*(G=Math.abs(R))*r}else E=Math.sqrt(Z*Z+V*V),y=b-T*r*(1-(N=(G=Math.sqrt(k*k+R*R))/(G+E))),v=w-A*r*(1-N),P=w+A*r*N,C=l(C=b+T*r*N,s(M,b)),P=l(P,s(L,w)),C=s(C,l(M,b)),v=w-(A=(P=s(P,l(L,w)))-w)*E/G,y=l(y=b-(T=C-b)*E/G,s(c,b)),v=l(v,s(p,w)),C=b+(T=b-(y=s(y,l(c,b))))*G/E,P=w+(A=w-(v=s(v,l(p,w))))*G/E}e.bezierCurveTo(g,f,y,v,b,w),g=C,f=P}else e.lineTo(b,w)}c=b,p=w,m+=i}return x}var h=function(){this.smooth=0,this.smoothConstraint=!0},c=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-polyline",a}return(0,n.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new h},t.prototype.buildPath=function(e,t){var a=t.points,n=0,o=a.length/2;if(t.connectNulls){for(;o>0&&u(a[2*o-2],a[2*o-1]);o--);for(;n<o&&u(a[2*n],a[2*n+1]);n++);}for(;n<o;)n+=d(e,a,n,o,o,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var a,n,o=this.path.data,l=i.Z.CMD,s="x"===t,u=[],d=0;d<o.length;){var h=void 0,c=void 0,p=void 0,g=void 0,f=void 0,y=void 0,v=void 0;switch(o[d++]){case l.M:a=o[d++],n=o[d++];break;case l.L:if(h=o[d++],c=o[d++],(v=s?(e-a)/(h-a):(e-n)/(c-n))<=1&&v>=0){var m=s?(c-n)*v+n:(h-a)*v+a;return s?[e,m]:[m,e]}a=h,n=c;break;case l.C:h=o[d++],c=o[d++],p=o[d++],g=o[d++],f=o[d++],y=o[d++];var x=s?(0,r.kD)(a,h,p,f,e,u):(0,r.kD)(n,c,g,y,e,u);if(x>0)for(var b=0;b<x;b++){var w=u[b];if(w<=1&&w>=0){m=s?(0,r.af)(n,c,g,y,w):(0,r.af)(a,h,p,f,w);return s?[e,m]:[m,e]}}a=f,n=y}}},t}(o.ZP),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t}(h),g=function(e){function t(t){var a=e.call(this,t)||this;return a.type="ec-polygon",a}return(0,n.ZT)(t,e),t.prototype.getDefaultShape=function(){return new p},t.prototype.buildPath=function(e,t){var a=t.points,n=t.stackedOnPoints,o=0,i=a.length/2,r=t.smoothMonotone;if(t.connectNulls){for(;i>0&&u(a[2*i-2],a[2*i-1]);i--);for(;o<i&&u(a[2*o],a[2*o+1]);o++);}for(;o<i;){var l=d(e,a,o,i,i,1,t.smooth,r,t.connectNulls);d(e,n,o+l-1,l,i,-1,t.stackedOnSmooth,r,t.connectNulls),o+=l+1,e.closePath()}},t}(o.ZP)},99380:(e,t,a)=>{a.d(t,{N:()=>_});var n=a(70655),o=a(47145),i=a(99895),r=a(56947),l=a(30146),s=a(69121),u=a(34148);const d={seriesType:"lines",plan:(0,a(95682).Z)(),reset:function(e){var t=e.coordinateSystem;if(t){var a=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(o,i){var r=[];if(n){var l=void 0,s=o.end-o.start;if(a){for(var u=0,d=o.start;d<o.end;d++)u+=e.getLineCoordsCount(d);l=new Float32Array(s+2*u)}else l=new Float32Array(4*s);var h=0,c=[];for(d=o.start;d<o.end;d++){var p=e.getLineCoords(d,r);a&&(l[h++]=p);for(var g=0;g<p;g++)c=t.dataToPoint(r[g],!1,c),l[h++]=c[0],l[h++]=c[1]}i.setLayout("linesPoints",l)}else for(d=o.start;d<o.end;d++){var f=i.getItemModel(d),y=(p=e.getLineCoords(d,r),[]);if(a)for(var v=0;v<p;v++)y.push(t.dataToPoint(r[v]));else{y[0]=t.dataToPoint(r[0]),y[1]=t.dataToPoint(r[1]);var m=f.get(["lineStyle","curveness"]);+m&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*m,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*m])}i.setItemLayout(d,y)}}}}}};var h=a(22963);const c=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,n.ZT)(t,e),t.prototype.render=function(e,t,a){var n=e.getData(),o=this._updateLineDraw(n,e),i=e.get("zlevel"),r=e.get(["effect","trailLength"]),l=a.getZr(),s="svg"===l.painter.getType();s||l.painter.getLayer(i).clear(!0),null==this._lastZlevel||s||l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&r>0&&(s||l.configLayer(i,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n);var u=e.get("clip",!0)&&(0,h.lQ)(e.coordinateSystem,!1,e);u?this.group.setClipPath(u):this.group.removeClipPath(),this._lastZlevel=i,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,a){var n=e.getData();this._updateLineDraw(n,e).incrementalPrepareUpdate(n),this._clearLayer(a),this._finished=!1},t.prototype.incrementalRender=function(e,t,a){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,a){var n=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var i=d.reset(e,t,a);i.progress&&i.progress({start:0,end:n.count(),count:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(a)},t.prototype._updateLineDraw=function(e,t){var a=this._lineDraw,n=this._showEffect(t),d=!!t.get("polyline"),h=t.pipelineContext.large;return a&&n===this._hasEffet&&d===this._isPolyline&&h===this._isLargeDraw||(a&&a.remove(),a=this._lineDraw=h?new u.Z:new o.Z(d?n?s.Z:l.Z:n?i.Z:r.Z),this._hasEffet=n,this._isPolyline=d,this._isLargeDraw=h),this.group.add(a.group),a},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var t=e.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type="lines",t}(a(75797).Z);var p=a(93321),g=a(5101),f=a(33051),y=a(5685),v="undefined"==typeof Uint32Array?Array:Uint32Array,m="undefined"==typeof Float64Array?Array:Float64Array;function x(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=(0,f.map)(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),(0,f.mergeAll)([t,e[0],e[1]])})))}const b=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return(0,n.ZT)(t,e),t.prototype.init=function(t){t.data=t.data||[],x(t);var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(x(t),t.data){var a=this._processFlatCoordsArray(t.data);this._flatCoords=a.flatCoords,this._flatCoordsOffset=a.flatCoordsOffset,a.flatCoords&&(t.data=new Float32Array(a.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=(0,f.concatArray)(this._flatCoords,t.flatCoords),this._flatCoordsOffset=(0,f.concatArray)(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var a=this._flatCoordsOffset[2*e],n=this._flatCoordsOffset[2*e+1],o=0;o<n;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[a+2*o],t[o][1]=this._flatCoords[a+2*o+1];return n}var i=this._getCoordsFromItemModel(e);for(o=0;o<i.length;o++)t[o]=t[o]||[],t[o][0]=i[o][0],t[o][1]=i[o][1];return i.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),(0,f.isNumber)(e[0])){for(var a=e.length,n=new v(a),o=new m(a),i=0,r=0,l=0,s=0;s<a;){l++;var u=e[s++];n[r++]=i+t,n[r++]=u;for(var d=0;d<u;d++){var h=e[s++],c=e[s++];o[i++]=h,o[i++]=c}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var a=new g.Z(["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],(function(e,t,n,o){if(e instanceof Array)return NaN;a.hasItemOption=!0;var i=e.value;return null!=i?i instanceof Array?i[o]:i:void 0})),a},t.prototype.formatTooltip=function(e,t,a){var n=this.getData().getItemModel(e),o=n.get("name");if(o)return o;var i=n.get("fromName"),r=n.get("toName"),l=[];return null!=i&&l.push(i),null!=r&&l.push(r),(0,y.TX)("nameValue",{name:l.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),t=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&t>0?t+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(p.Z);function w(e){return e instanceof Array||(e=[e,e]),e}const S={seriesType:"lines",reset:function(e){var t=w(e.get("symbol")),a=w(e.get("symbolSize")),n=e.getData();return n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),{dataEach:n.hasItemOption?function(e,t){var a=e.getItemModel(t),n=w(a.getShallow("symbol",!0)),o=w(a.getShallow("symbolSize",!0));n[0]&&e.setItemVisual(t,"fromSymbol",n[0]),n[1]&&e.setItemVisual(t,"toSymbol",n[1]),o[0]&&e.setItemVisual(t,"fromSymbolSize",o[0]),o[1]&&e.setItemVisual(t,"toSymbolSize",o[1])}:null}}};function _(e){e.registerChartView(c),e.registerSeriesModel(b),e.registerLayout(d),e.registerVisual(S)}},51190:(e,t,a)=>{a.d(t,{N:()=>_});var n=a(68023),o=a(70655),i=a(69538),r=a(44121),l=a(75797),s=a(36006),u=a(26357);const d=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,o.ZT)(t,e),t.prototype.render=function(e,t,a,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&n&&"geoRoam"===n.type&&this._mapDraw.resetForLabelLayout(),n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id)(i=this._mapDraw)&&o.add(i.group);else if(e.needsDrawMap){var i=this._mapDraw||new r.Z(a);o.add(i.group),i.draw(e,t,a,this,n),this._mapDraw=i}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,a)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,a){var n=e.originalData,o=this.group;n.each(n.mapDimension("value"),(function(t,a){if(!isNaN(t)){var r=n.getItemLayout(a);if(r&&r.point){var l=r.point,d=r.offset,h=new i.Z({style:{fill:e.getData().getVisual("style").fill},shape:{cx:l[0]+9*d,cy:l[1],r:3},silent:!0,z2:8+(d?0:u.zr+1)});if(!d){var c=e.mainSeries.getData(),p=n.getName(a),g=c.indexOfName(p),f=n.getItemModel(a),y=f.getModel("label"),v=c.getItemGraphicEl(g);(0,s.ni)(h,(0,s.k3)(f),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(g,a)}},defaultText:p}),h.disableLabelAnimation=!0,y.get("position")||h.setTextConfig({position:"bottom"}),v.onHoverStateChange=function(e){(0,u.Gl)(h,e)}}o.add(h)}}}))},t.type="map",t}(l.Z);var h=a(33051),c=a(30090),p=a(93321),g=a(84465),f=a(61772),y=a(5685),v=a(41525);const m=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),a=this.coordinateSystem,n=a.getRegion(t);return n&&a.dataToPoint(n.getCenter())}},a}return(0,o.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=(0,c.Z)(this,{coordDimensions:["value"],encodeDefaulter:h.curry(f.Ss,this)}),a=h.createHashMap(),n=[],o=0,i=t.count();o<i;o++){var r=t.getName(o);a.set(r,!0)}var l=g.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return h.each(l.regions,(function(e){var t=e.name;a.get(t)||n.push(t)})),t.appendValues([],n),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,a){for(var n=this.getData(),o=this.getRawValue(e),i=n.getName(e),r=this.seriesGroup,l=[],s=0;s<r.length;s++){var u=r[s].originalData.indexOfName(i),d=n.mapDimension("value");isNaN(r[s].originalData.get(d,u))||l.push(r[s].name)}return(0,y.TX)("section",{header:l.join(", "),noHeader:!l.length,blocks:[(0,y.TX)("nameValue",{name:i,value:o})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||"roundRect",a=(0,v.th)(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return a.setStyle(e.itemStyle),a.style.stroke="none",t.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(p.Z);function x(e){var t={};e.eachSeriesByType("map",(function(e){var a=e.getHostGeoModel(),n=a?"o"+a.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)})),h.each(t,(function(e,t){for(var a,n,o,i=(a=h.map(e,(function(e){return e.getData()})),n=e[0].get("mapValueCalculation"),o={},h.each(a,(function(e){e.each(e.mapDimension("value"),(function(t,a){var n="ec-"+e.getName(a);o[n]=o[n]||[],isNaN(t)||o[n].push(t)}))})),a[0].map(a[0].mapDimension("value"),(function(e,t){for(var i="ec-"+a[0].getName(t),r=0,l=1/0,s=-1/0,u=o[i].length,d=0;d<u;d++)l=Math.min(l,o[i][d]),s=Math.max(s,o[i][d]),r+=o[i][d];return 0===u?NaN:"min"===n?l:"max"===n?s:"average"===n?r/u:r}))),r=0;r<e.length;r++)e[r].originalData=e[r].getData();for(r=0;r<e.length;r++)e[r].seriesGroup=e,e[r].needsDrawMap=0===r&&!e[r].getHostGeoModel(),e[r].setData(i.cloneShallow()),e[r].mainSeries=e[0]}))}function b(e){var t={};e.eachSeriesByType("map",(function(a){var n=a.getMapType();if(!a.getHostGeoModel()&&!t[n]){var o={};h.each(a.seriesGroup,(function(t){var a=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),(function(e,t){var i=n.getName(t),r=a.getRegion(i);if(r&&!isNaN(e)){var l=o[i]||0,s=a.dataToPoint(r.getCenter());o[i]=l+1,n.setItemLayout(t,{point:s,offset:l})}}))}));var i=a.getData();i.each((function(e){var t=i.getName(e),a=i.getItemLayout(e)||{};a.showLabel=!o[t],i.setItemLayout(e,a)})),t[n]=!0}}))}var w=a(31891),S=a(74971);function _(e){(0,n.D)(S.N),e.registerChartView(d),e.registerSeriesModel(m),e.registerLayout(b),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,x),(0,w.y)("map",e.registerAction)}},36780:(e,t,a)=>{a.d(t,{N:()=>M});var n=a(68023),o=a(70655),i=a(38154),r=a(44292),l=a(25293),s=a(62514),u=a(26357),d=a(75797),h=a(85669),c=a(33051);function p(e,t,a,n){for(var o,i=[],r=0;r<a.length;r++){var l=a[r],s=e.get(e.mapDimension(l),t);o=s,("category"===n.getAxis(l).type?null==o:null==o||isNaN(o))||i.push(n.dataToPoint(s,l))}return i}function g(e,t,a,n,o){var i=p(e,a,n,o),r=new s.Z({shape:{points:i},z2:10});return t.add(r),e.setItemGraphicEl(a,r),r}function f(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),t=(0,h.FK)(t),(0,c.eqNaN)(t)&&(t=0),{smooth:t}}function y(e,t,a,n){e.useStyle(t.getItemVisual(a,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var o=t.getItemModel(a),i=o.getModel("emphasis");(0,u.WO)(e,o,"lineStyle"),(0,u.k5)(e,i.get("focus"),i.get("blurScope"),i.get("disabled"))}const v=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._dataGroup=new i.Z,a._initialized=!1,a}return(0,o.ZT)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,a,n){this._progressiveEls=null;var o=this._dataGroup,i=e.getData(),s=this._data,u=e.coordinateSystem,d=u.dimensions,h=f(e);if(i.diff(s).add((function(e){y(g(i,o,e,d,u),i,e,h)})).update((function(t,a){var n=s.getItemGraphicEl(a),o=p(i,t,d,u);i.setItemGraphicEl(t,n),r.D(n,{shape:{points:o}},e,t),(0,r.Zi)(n),y(n,i,t,h)})).remove((function(e){var t=s.getItemGraphicEl(e);o.remove(t)})).execute(),!this._initialized){this._initialized=!0;var c=function(e,t,a){var n=e.model,o=e.getRect(),i=new l.Z({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),s="horizontal"===n.get("layout")?"width":"height";return i.setShape(s,0),r.KZ(i,{shape:{width:o.width,height:o.height}},t,a),i}(u,e,(function(){setTimeout((function(){o.removeClipPath()}))}));o.setClipPath(c)}this._data=i},t.prototype.incrementalPrepareRender=function(e,t,a){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,a){for(var n=t.getData(),o=t.coordinateSystem,i=o.dimensions,r=f(t),l=this._progressiveEls=[],s=e.start;s<e.end;s++){var u=g(n,this._dataGroup,s,i,o);u.incremental=!0,y(u,n,s,r),l.push(u)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(d.Z);var m=a(93321),x=a(35144);function b(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var a={};return(0,c.each)(t.dimensions,(function(e){var t=+e.replace("dim","");a[e]=t})),a}}const w=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return(0,o.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,x.Z)(null,this,{useEncodeDefaulter:(0,c.bind)(b,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,a=this.getData(),n=[];return t.eachActiveState(a,(function(t,o){e===t&&n.push(a.getRawIndex(o))})),n},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(m.Z);var S=["lineStyle","opacity"];const _={seriesType:"parallel",reset:function(e,t){var a=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(e,t){a.eachActiveState(t,(function(e,a){var o=n[e];if("normal"===e&&t.hasItemOption){var i=t.getItemModel(a).get(S,!0);null!=i&&(o=i)}t.ensureUniqueItemVisual(a,"style").opacity=o}),e.start,e.end)}}}};var I=a(28146);function M(e){(0,n.D)(I.N),e.registerChartView(v),e.registerSeriesModel(w),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,_)}},73564:(e,t,a)=>{a.d(t,{N:()=>z});var n=a(31891),o=a(85669),i=a(76172),r=a(33051),l=2*Math.PI,s=Math.PI/180;function u(e,t){return i.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function d(e,t){var a=u(e,t),n=e.get("center"),i=e.get("radius");r.isArray(i)||(i=[0,i]);var l,s,d=(0,o.GM)(a.width,t.getWidth()),h=(0,o.GM)(a.height,t.getHeight()),c=Math.min(d,h),p=(0,o.GM)(i[0],c/2),g=(0,o.GM)(i[1],c/2),f=e.coordinateSystem;if(f){var y=f.dataToPoint(n);l=y[0]||0,s=y[1]||0}else r.isArray(n)||(n=[n,n]),l=(0,o.GM)(n[0],d)+a.x,s=(0,o.GM)(n[1],h)+a.y;return{cx:l,cy:s,r0:p,r:g}}function h(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),i=u(e,a),r=d(e,a),h=r.cx,c=r.cy,p=r.r,g=r.r0,f=-e.get("startAngle")*s,y=e.get("minAngle")*s,v=0;t.each(n,(function(e){!isNaN(e)&&v++}));var m=t.getSum(n),x=Math.PI/(m||v)*2,b=e.get("clockwise"),w=e.get("roseType"),S=e.get("stillShowZeroSum"),_=t.getDataExtent(n);_[0]=0;var I=l,M=0,L=f,D=b?1:-1;if(t.setLayout({viewRect:i,r:p}),t.each(n,(function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:h,cy:c,r0:g,r:w?NaN:p});else{(n="area"!==w?0===m&&S?x:e*x:l/v)<y?(n=y,I-=y):M+=e;var i=L+D*n;t.setItemLayout(a,{angle:n,startAngle:L,endAngle:i,clockwise:b,cx:h,cy:c,r0:g,r:w?(0,o.NU)(e,_,[g,p]):p}),L=i}})),I<l&&v)if(I<=.001){var N=l/v;t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=N,n.startAngle=f+D*a*N,n.endAngle=f+D*(a+1)*N}}))}else x=I/M,L=f,t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),o=n.angle===y?y:e*x;n.startAngle=L,n.endAngle=L+D*o,L+=D*o}}))}))}var c=a(22528),p=a(70655),g=a(96498),f=a(44292),y=a(62514),v=a(97782),m=a(26357),x=a(75797),b=a(41610),w=a(87377),S=a(54162),_=Math.PI/180;function I(e,t,a,n,o,i,r,l,s,u){if(!(e.length<2)){for(var d=e.length,h=0;h<d;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var c=e[h].label.x-u;e[h].linePoints[1][0]+=c,e[h].label.x=u}(0,S.GI)(e,s,s+r)&&function(e){for(var i={list:[],maxY:0},r={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],u=s.label.y>a?r:i,d=Math.abs(s.label.y-a);if(d>=u.maxY){var h=s.label.x-t-s.len2*o,c=n+s.len,g=Math.abs(h)<c?Math.sqrt(d*d/(1-h*h/c/c)):c;u.rB=g,u.maxY=d}u.list.push(s)}p(i),p(r)}(e)}function p(e){for(var i=e.rB,r=i*i,l=0;l<e.list.length;l++){var s=e.list[l],u=Math.abs(s.label.y-a),d=n+s.len,h=d*d,c=Math.sqrt((1-Math.abs(u*u/r))*h),p=t+(c+s.len2)*o,g=p-s.label.x;M(s,s.targetTextWidth-g*o,!0),s.label.x=p}}}function M(e,t,a){if(void 0===a&&(a=!1),null==e.labelStyleWidth){var n=e.label,o=n.style,i=e.rect,r=o.backgroundColor,l=o.padding,s=l?l[1]+l[3]:0,u=o.overflow,d=i.width+(r?0:s);if(t<d||a){var h=i.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-s);var c=n.getBoundingRect();n.setStyle("width",Math.ceil(c.width)),n.setStyle("backgroundColor",r)}else{var p=t-s,g=t<d?p:a?p>e.unconstrainedWidth?null:p:null;n.setStyle("width",g)}var f=n.getBoundingRect();i.width=f.width;var y=(n.style.margin||0)+2.1;i.height=f.height+y,i.y-=(i.height-h)/2}}}function L(e){return"center"===e.position}function D(e){var t,a,n=e.getData(),i=[],l=!1,s=(e.get("minShowLabelAngle")||0)*_,u=n.getLayout("viewRect"),d=n.getLayout("r"),h=u.width,c=u.x,p=u.y,g=u.height;function f(e){e.ignore=!0}n.each((function(e){var u=n.getItemGraphicEl(e),p=u.shape,g=u.getTextContent(),y=u.getTextGuideLine(),v=n.getItemModel(e),m=v.getModel("label"),x=m.get("position")||v.get(["emphasis","label","position"]),w=m.get("distanceToLabelLine"),S=m.get("alignTo"),_=(0,o.GM)(m.get("edgeDistance"),h),I=m.get("bleedMargin"),M=v.getModel("labelLine"),L=M.get("length");L=(0,o.GM)(L,h);var D=M.get("length2");if(D=(0,o.GM)(D,h),Math.abs(p.endAngle-p.startAngle)<s)return(0,r.each)(g.states,f),g.ignore=!0,void(y&&((0,r.each)(y.states,f),y.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(g)){var N,T,A,C,P=(p.startAngle+p.endAngle)/2,Z=Math.cos(P),k=Math.sin(P);t=p.cx,a=p.cy;var V="inside"===x||"inner"===x;if("center"===x)N=p.cx,T=p.cy,C="center";else{var R=(V?(p.r+p.r0)/2*Z:p.r*Z)+t,E=(V?(p.r+p.r0)/2*k:p.r*k)+a;if(N=R+3*Z,T=E+3*k,!V){var G=R+Z*(L+d-p.r),O=E+k*(L+d-p.r),z=G+(Z<0?-1:1)*D;N="edge"===S?Z<0?c+_:c+h-_:z+(Z<0?-w:w),T=O,A=[[R,E],[G,O],[z,O]]}C=V?"center":"edge"===S?Z>0?"right":"left":Z>0?"left":"right"}var B=Math.PI,W=0,F=m.get("rotate");if((0,r.isNumber)(F))W=F*(B/180);else if("center"===x)W=0;else if("radial"===F||!0===F){W=Z<0?-P+B:-P}else if("tangential"===F&&"outside"!==x&&"outer"!==x){var H=Math.atan2(Z,k);H<0&&(H=2*B+H),k>0&&(H=B+H),W=H-B}if(l=!!W,g.x=N,g.y=T,g.rotation=W,g.setStyle({verticalAlign:"middle"}),V){g.setStyle({align:C});var X=g.states.select;X&&(X.x+=g.x,X.y+=g.y)}else{var Y=g.getBoundingRect().clone();Y.applyTransform(g.getComputedTransform());var U=(g.style.margin||0)+2.1;Y.y-=U/2,Y.height+=U,i.push({label:g,labelLine:y,position:x,len:L,len2:D,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new b.Z(Z,k),linePoints:A,textAlign:C,labelDistance:w,labelAlignTo:S,edgeDistance:_,bleedMargin:I,rect:Y,unconstrainedWidth:Y.width,labelStyleWidth:g.style.width})}u.setTextConfig({inside:V})}})),!l&&e.get("avoidLabelOverlap")&&function(e,t,a,n,o,i,r,l){for(var s=[],u=[],d=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<e.length;c++){var p=e[c].label;L(e[c])||(p.x<t?(d=Math.min(d,p.x),s.push(e[c])):(h=Math.max(h,p.x),u.push(e[c])))}for(c=0;c<e.length;c++)if(!L(y=e[c])&&y.linePoints){if(null!=y.labelStyleWidth)continue;p=y.label;var g=y.linePoints,f=void 0;f="edge"===y.labelAlignTo?p.x<t?g[2][0]-y.labelDistance-r-y.edgeDistance:r+o-y.edgeDistance-g[2][0]-y.labelDistance:"labelLine"===y.labelAlignTo?p.x<t?d-r-y.bleedMargin:r+o-h-y.bleedMargin:p.x<t?p.x-r-y.bleedMargin:r+o-p.x-y.bleedMargin,y.targetTextWidth=f,M(y,f)}for(I(u,t,a,n,1,0,i,0,l,h),I(s,t,a,n,-1,0,i,0,l,d),c=0;c<e.length;c++){var y;if(!L(y=e[c])&&y.linePoints){p=y.label,g=y.linePoints;var v="edge"===y.labelAlignTo,m=p.style.padding,x=m?m[1]+m[3]:0,b=p.style.backgroundColor?0:x,w=y.rect.width+b,S=g[1][0]-g[2][0];v?p.x<t?g[2][0]=r+y.edgeDistance+w+y.labelDistance:g[2][0]=r+o-y.edgeDistance-w-y.labelDistance:(p.x<t?g[2][0]=p.x+y.labelDistance:g[2][0]=p.x-y.labelDistance,g[1][0]=g[2][0]+S),g[1][1]=g[2][1]=p.y}}}(i,t,a,d,h,g,c,p);for(var y=0;y<i.length;y++){var v=i[y],m=v.label,x=v.labelLine,S=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),S&&((0,r.each)(m.states,f),m.ignore=!0);var D=m.states.select;D&&(D.x+=m.x,D.y+=m.y)}if(x){var N=v.linePoints;S||!N?((0,r.each)(x.states,f),x.ignore=!0):((0,w.qK)(N,v.minTurnAngle),(0,w._A)(N,v.surfaceNormal,v.maxSurfaceAngle),x.setShape({points:N}),m.__hostTarget.textGuideLineConfig={anchor:new b.Z(N[0][0],N[0][1])})}}}var N=a(36006),T=a(21249),A=function(e){function t(t,a,n){var o=e.call(this)||this;o.z2=2;var i=new g.ZP;return o.setTextContent(i),o.updateData(t,a,n,!0),o}return(0,p.ZT)(t,e),t.prototype.updateData=function(e,t,a,n){var o=this,i=e.hostModel,l=e.getItemModel(t),s=l.getModel("emphasis"),u=e.getItemLayout(t),d=(0,r.extend)((0,T.T)(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle))o.setShape(d);else{if(n){o.setShape(d);var h=i.getShallow("animationType");i.ecModel.ssr?(f.KZ(o,{scaleX:0,scaleY:0},i,{dataIndex:t,isFrom:!0}),o.originX=d.cx,o.originY=d.cy):"scale"===h?(o.shape.r=u.r0,f.KZ(o,{shape:{r:u.r}},i,t)):null!=a?(o.setShape({startAngle:a,endAngle:a}),f.KZ(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},i,t)):(o.shape.endAngle=u.startAngle,f.D(o,{shape:{endAngle:u.endAngle}},i,t))}else(0,f.Zi)(o),f.D(o,{shape:d},i,t);o.useStyle(e.getItemVisual(t,"style")),(0,m.WO)(o,l);var c=(u.startAngle+u.endAngle)/2,p=i.get("selectedOffset"),g=Math.cos(c)*p,y=Math.sin(c)*p,v=l.getShallow("cursor");v&&o.attr("cursor",v),this._updateLabel(i,e,t),o.ensureState("emphasis").shape=(0,r.extend)({r:u.r+(s.get("scale")&&s.get("scaleSize")||0)},(0,T.T)(s.getModel("itemStyle"),u)),(0,r.extend)(o.ensureState("select"),{x:g,y,shape:(0,T.T)(l.getModel(["select","itemStyle"]),u)}),(0,r.extend)(o.ensureState("blur"),{shape:(0,T.T)(l.getModel(["blur","itemStyle"]),u)});var x=o.getTextGuideLine(),b=o.getTextContent();x&&(0,r.extend)(x.ensureState("select"),{x:g,y}),(0,r.extend)(b.ensureState("select"),{x:g,y}),(0,m.k5)(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,a){var n=this,o=t.getItemModel(a),i=o.getModel("labelLine"),l=t.getItemVisual(a,"style"),s=l&&l.fill,u=l&&l.opacity;(0,N.ni)(n,(0,N.k3)(o),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:u,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var d=n.getTextContent();n.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=e.get(["label","position"]);if("outside"!==h&&"outer"!==h)n.removeTextGuideLine();else{var c=this.getTextGuideLine();c||(c=new y.Z,this.setTextGuideLine(c)),(0,w.Iu)(this,(0,w.$x)(o),{stroke:s,opacity:(0,r.retrieve3)(i.get(["lineStyle","opacity"]),u,1)})}},t}(v.C);const C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,p.ZT)(t,e),t.prototype.render=function(e,t,a,n){var o,i=e.getData(),r=this._data,l=this.group;if(!r&&i.count()>0){for(var s=i.getItemLayout(0),u=1;isNaN(s&&s.startAngle)&&u<i.count();++u)s=i.getItemLayout(u);s&&(o=s.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===i.count()&&e.get("showEmptyCircle")){var h=new v.C({shape:d(e,a)});h.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}i.diff(r).add((function(e){var t=new A(i,e,o);i.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var a=r.getItemGraphicEl(t);a.updateData(i,e,o),a.off("click"),l.add(a),i.setItemGraphicEl(e,a)})).remove((function(t){var a=r.getItemGraphicEl(t);f.XD(a,e,t)})).execute(),D(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=i)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var n=e[0]-a.cx,o=e[1]-a.cy,i=Math.sqrt(n*n+o*o);return i<=a.r&&i>=a.r0}},t.type="pie",t}(x.Z);var P=a(30090),Z=a(32234),k=a(61772),V=a(72019),R=a(93321),E=Z.Yf();const G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,p.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new V.Z(r.bind(this.getData,this),r.bind(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return(0,P.Z)(this,{coordDimensions:["value"],encodeDefaulter:r.curry(k.Ss,this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=E(a),i=n.seats;if(!i){var r=[];a.each(a.mapDimension("value"),(function(e){r.push(e)})),i=n.seats=(0,o.HD)(r,a.hostModel.get("percentPrecision"))}var l=e.prototype.getDataParams.call(this,t);return l.percent=i[t]||0,l.$vars.push("percent"),l},t.prototype._defaultLabelLine=function(e){Z.Cc(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(R.Z);var O=a(94401);function z(e){e.registerChartView(C),e.registerSeriesModel(G),(0,n.y)("pie",e.registerAction),e.registerLayout((0,r.curry)(h,"pie")),e.registerProcessor((0,c.Z)("pie")),e.registerProcessor((0,O.Z)("pie"))}},14437:(e,t,a)=>{a.d(t,{N:()=>N});var n=a(68023),o=a(33051);function i(e){e.eachSeriesByType("radar",(function(e){var t=e.getData(),a=[],n=e.coordinateSystem;if(n){var i=n.getIndicatorAxes();o.each(i,(function(e,o){t.each(t.mapDimension(i[o].dim),(function(e,t){a[t]=a[t]||[];var i=n.dataToPoint(e,o);a[t][o]=r(i)?i:l(n)}))})),t.each((function(e){var i=o.find(a[e],(function(e){return r(e)}))||l(n);a[e].push(i.slice()),t.setItemLayout(e,a[e])}))}}))}function r(e){return!isNaN(e[0])&&!isNaN(e[1])}function l(e){return[e.cx,e.cy]}var s=a(22528);function u(e){var t=e.polar;if(t){o.isArray(t)||(t=[t]);var a=[];o.each(t,(function(t,n){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],o.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):a.push(t)})),e.polar=a}o.each(e.series,(function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var d=a(70655),h=a(51177),c=a(95094),p=a(62514),g=a(44292),f=a(38154),y=a(26357),v=a(41525),m=a(75797),x=a(36006),b=a(44535);const w=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,d.ZT)(t,e),t.prototype.render=function(e,t,a){var n=e.coordinateSystem,i=this.group,r=e.getData(),l=this._data;function s(e,t){var a=e.getItemVisual(t,"symbol")||"circle";if("none"!==a){var n=v.zp(e.getItemVisual(t,"symbolSize")),o=v.th(a,-1,-1,2,2),i=e.getItemVisual(t,"symbolRotate")||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:n[0]/2,scaleY:n[1]/2,rotation:i*Math.PI/180||0}),o}}function u(t,a,n,o,i,r){n.removeAll();for(var l=0;l<a.length-1;l++){var u=s(o,i);u&&(u.__dimIdx=l,t[l]?(u.setPosition(t[l]),h[r?"initProps":"updateProps"](u,{x:a[l][0],y:a[l][1]},e,i)):u.setPosition(a[l]),n.add(u))}}function d(e){return o.map(e,(function(e){return[n.cx,n.cy]}))}r.diff(l).add((function(t){var a=r.getItemLayout(t);if(a){var n=new c.Z,o=new p.Z,i={shape:{points:a}};n.shape.points=d(a),o.shape.points=d(a),g.KZ(n,i,e,t),g.KZ(o,i,e,t);var l=new f.Z,s=new f.Z;l.add(o),l.add(n),l.add(s),u(o.shape.points,a,s,r,t,!0),r.setItemGraphicEl(t,l)}})).update((function(t,a){var n=l.getItemGraphicEl(a),o=n.childAt(0),i=n.childAt(1),s=n.childAt(2),d={shape:{points:r.getItemLayout(t)}};d.shape.points&&(u(o.shape.points,d.shape.points,s,r,t,!1),(0,g.Zi)(i),(0,g.Zi)(o),g.D(o,d,e),g.D(i,d,e),r.setItemGraphicEl(t,n))})).remove((function(e){i.remove(l.getItemGraphicEl(e))})).execute(),r.eachItemGraphicEl((function(e,t){var a=r.getItemModel(t),n=e.childAt(0),l=e.childAt(1),s=e.childAt(2),u=r.getItemVisual(t,"style"),d=u.fill;i.add(e),n.useStyle(o.defaults(a.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),(0,y.WO)(n,a,"lineStyle"),(0,y.WO)(l,a,"areaStyle");var h=a.getModel("areaStyle"),c=h.isEmpty()&&h.parentModel.isEmpty();l.ignore=c,o.each(["emphasis","select","blur"],(function(e){var t=a.getModel([e,"areaStyle"]),n=t.isEmpty()&&t.parentModel.isEmpty();l.ensureState(e).ignore=n&&c})),l.useStyle(o.defaults(h.getAreaStyle(),{fill:d,opacity:.7,decal:u.decal}));var p=a.getModel("emphasis"),g=p.getModel("itemStyle").getItemStyle();s.eachChild((function(e){if(e instanceof b.ZP){var n=e.style;e.useStyle(o.extend({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},u))}else e.useStyle(u),e.setColor(d),e.style.strokeNoScale=!0;e.ensureState("emphasis").style=o.clone(g);var i=r.getStore().get(r.getDimensionIndex(e.__dimIdx),t);(null==i||isNaN(i))&&(i=""),(0,x.ni)(e,(0,x.k3)(a),{labelFetcher:r.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,inheritColor:d,defaultOpacity:u.opacity})})),(0,y.k5)(e,p.get("focus"),p.get("blurScope"),p.get("disabled"))})),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(m.Z);var S=a(93321),_=a(30090),I=a(72019),M=a(5685);const L=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,d.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new I.Z(o.bind(this.getData,this),o.bind(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return(0,_.Z)(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,a){var n=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),r=this.getData().getName(e),l=""===r?this.name:r,s=(0,M.jT)(this,e);return(0,M.TX)("section",{header:l,sortBlocks:!0,blocks:o.map(i,(function(t){var a=n.get(n.mapDimension(t.dim),e);return(0,M.TX)("nameValue",{markerType:"subItem",markerColor:s,name:t.name,value:a,sortParam:a})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),a=this.coordinateSystem,n=t.getValues(o.map(a.dimensions,(function(e){return t.mapDimension(e)})),e),i=0,r=n.length;i<r;i++)if(!isNaN(n[i])){var l=a.getIndicatorAxes();return a.coordToPoint(l[i].dataToCoord(n[i]),i)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(S.Z);var D=a(61194);function N(e){(0,n.D)(D.N),e.registerChartView(w),e.registerSeriesModel(L),e.registerLayout(i),e.registerProcessor((0,s.Z)("radar")),e.registerPreprocessor(u)}},62223:(e,t,a)=>{a.d(t,{N:()=>z});var n=a(70655),o=a(8846),i=a(25293),r=a(74438),l=a(44292),s=a(26357),u=a(75797),d=a(36006),h=a(30106),c=a(33051),p=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},g=function(e){function t(t){return e.call(this,t)||this}return(0,n.ZT)(t,e),t.prototype.getDefaultShape=function(){return new p},t.prototype.buildPath=function(e,t){var a=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+a,t.y2),e.bezierCurveTo(t.cpx2+a,t.cpy2,t.cpx1+a,t.cpy1,t.x1+a,t.y1)):(e.lineTo(t.x2,t.y2+a),e.bezierCurveTo(t.cpx2,t.cpy2+a,t.cpx1,t.cpy1+a,t.x1,t.y1+a)),e.closePath()},t.prototype.highlight=function(){(0,s.fD)(this)},t.prototype.downplay=function(){(0,s.Mh)(this)},t}(o.ZP),f=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._focusAdjacencyDisabled=!1,a}return(0,n.ZT)(t,e),t.prototype.render=function(e,t,a){var n=this,o=e.getGraph(),r=this.group,u=e.layoutInfo,p=u.width,f=u.height,v=e.getData(),m=e.getData("edge"),x=e.get("orient");this._model=e,r.removeAll(),r.x=u.x,r.y=u.y,o.eachEdge((function(t){var a=new g,n=(0,h.A)(a);n.dataIndex=t.dataIndex,n.seriesIndex=e.seriesIndex,n.dataType="edge";var o,i,l,u,v,b,w,S,_=t.getModel(),I=_.getModel("lineStyle"),M=I.get("curveness"),L=t.node1.getLayout(),D=t.node1.getModel(),N=D.get("localX"),T=D.get("localY"),A=t.node2.getLayout(),C=t.node2.getModel(),P=C.get("localX"),Z=C.get("localY"),k=t.getLayout();a.shape.extent=Math.max(1,k.dy),a.shape.orient=x,"vertical"===x?(o=(null!=N?N*p:L.x)+k.sy,i=(null!=T?T*f:L.y)+L.dy,l=(null!=P?P*p:A.x)+k.ty,v=o,b=i*(1-M)+(u=null!=Z?Z*f:A.y)*M,w=l,S=i*M+u*(1-M)):(o=(null!=N?N*p:L.x)+L.dx,i=(null!=T?T*f:L.y)+k.sy,v=o*(1-M)+(l=null!=P?P*p:A.x)*M,b=i,w=o*M+l*(1-M),S=u=(null!=Z?Z*f:A.y)+k.ty),a.setShape({x1:o,y1:i,x2:l,y2:u,cpx1:v,cpy1:b,cpx2:w,cpy2:S}),a.useStyle(I.getItemStyle()),y(a.style,x,t);var V=""+_.get("value"),R=(0,d.k3)(_,"edgeLabel");(0,d.ni)(a,R,{labelFetcher:{getFormattedLabel:function(t,a,n,o,i,r){return e.getFormattedLabel(t,a,"edge",o,(0,c.retrieve3)(i,R.normal&&R.normal.get("formatter"),V),r)}},labelDataIndex:t.dataIndex,defaultText:V}),a.setTextConfig({position:"inside"});var E=_.getModel("emphasis");(0,s.WO)(a,_,"lineStyle",(function(e){var a=e.getItemStyle();return y(a,x,t),a})),r.add(a),m.setItemGraphicEl(t.dataIndex,a);var G=E.get("focus");(0,s.k5)(a,"adjacency"===G?t.getAdjacentDataIndices():"trajectory"===G?t.getTrajectoryDataIndices():G,E.get("blurScope"),E.get("disabled"))})),o.eachNode((function(t){var a=t.getLayout(),n=t.getModel(),o=n.get("localX"),l=n.get("localY"),u=n.getModel("emphasis"),c=new i.Z({shape:{x:null!=o?o*p:a.x,y:null!=l?l*f:a.y,width:a.dx,height:a.dy},style:n.getModel("itemStyle").getItemStyle(),z2:10});(0,d.ni)(c,(0,d.k3)(n),{labelFetcher:{getFormattedLabel:function(t,a){return e.getFormattedLabel(t,a,"node")}},labelDataIndex:t.dataIndex,defaultText:t.id}),c.disableLabelAnimation=!0,c.setStyle("fill",t.getVisual("color")),c.setStyle("decal",t.getVisual("style").decal),(0,s.WO)(c,n),r.add(c),v.setItemGraphicEl(t.dataIndex,c),(0,h.A)(c).dataType="node";var g=u.get("focus");(0,s.k5)(c,"adjacency"===g?t.getAdjacentDataIndices():"trajectory"===g?t.getTrajectoryDataIndices():g,u.get("blurScope"),u.get("disabled"))})),v.eachItemGraphicEl((function(t,o){v.getItemModel(o).get("draggable")&&(t.drift=function(t,i){n._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=i,this.dirty(),a.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:v.getRawIndex(o),localX:this.shape.x/p,localY:this.shape.y/f})},t.ondragend=function(){n._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move")})),!this._data&&e.isAnimationEnabled()&&r.setClipPath(function(e,t,a){var n=new i.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return l.KZ(n,{shape:{width:e.width+20}},t,a),n}(r.getBoundingRect(),e,(function(){r.removeClipPath()}))),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(u.Z);function y(e,t,a){switch(e.fill){case"source":e.fill=a.node1.getVisual("color"),e.decal=a.node1.getVisual("style").decal;break;case"target":e.fill=a.node2.getVisual("color"),e.decal=a.node2.getVisual("style").decal;break;case"gradient":var n=a.node1.getVisual("color"),o=a.node2.getVisual("color");(0,c.isString)(n)&&(0,c.isString)(o)&&(e.fill=new r.Z(0,0,+("horizontal"===t),+("vertical"===t),[{color:n,offset:0},{color:o,offset:1}]))}}const v=f;var m=a(93321),x=a(19638),b=a(12312),w=a(5685),S=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,n.ZT)(t,e),t.prototype.getInitialData=function(e,t){var a=e.edges||e.links,n=e.data||e.nodes,o=e.levels;this.levelModels=[];for(var i=this.levelModels,r=0;r<o.length;r++)null!=o[r].depth&&o[r].depth>=0&&(i[o[r].depth]=new b.Z(o[r],this,t));if(n&&a){var l=(0,x.Z)(n,a,this,!0,(function(e,t){e.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,n=a.getData().getItemLayout(t);if(n){var o=n.depth,i=a.levelModels[o];i&&(e.parentModel=i)}return e})),t.wrapMethod("getItemModel",(function(e,t){var a=e.parentModel,n=a.getGraph().getEdgeByIndex(t).node1.getLayout();if(n){var o=n.depth,i=a.levelModels[o];i&&(e.parentModel=i)}return e}))}));return l.data}},t.prototype.setNodePosition=function(e,t){var a=(this.option.data||this.option.nodes)[e];a.localX=t[0],a.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,a){function n(e){return isNaN(e)||null==e}if("edge"===a){var o=this.getDataParams(e,a),i=o.data,r=o.value,l=i.source+" -- "+i.target;return(0,w.TX)("nameValue",{name:l,value:r,noValue:n(r)})}var s=this.getGraph().getNodeByIndex(e).getLayout().value,u=this.getDataParams(e,a).data.name;return(0,w.TX)("nameValue",{name:null!=u?u+"":null,value:s,noValue:n(s)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,a){var n=e.prototype.getDataParams.call(this,t,a);if(null==n.value&&"node"===a){var o=this.getGraph().getNodeByIndex(t).getLayout().value;n.value=o}return n},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(m.Z);const _=S;var I=a(76172),M=a(32234);function L(e,t){e.eachSeriesByType("sankey",(function(e){var a=e.get("nodeWidth"),n=e.get("nodeGap"),o=function(e,t){return I.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var i=o.width,r=o.height,l=e.getGraph(),s=l.nodes,u=l.edges;!function(e){c.each(e,(function(e){var t=R(e.outEdges,V),a=R(e.inEdges,V),n=e.getValue()||0,o=Math.max(t,a,n);e.setLayout({value:o},!0)}))}(s),function(e,t,a,n,o,i,r,l,s){(function(e,t,a,n,o,i,r){for(var l=[],s=[],u=[],d=[],h=0,p=0;p<t.length;p++)l[p]=1;for(p=0;p<e.length;p++)s[p]=e[p].inEdges.length,0===s[p]&&u.push(e[p]);var g=-1;for(;u.length;){for(var f=0;f<u.length;f++){var y=u[f],v=y.hostGraph.data.getRawDataItem(y.dataIndex),m=null!=v.depth&&v.depth>=0;m&&v.depth>g&&(g=v.depth),y.setLayout({depth:m?v.depth:h},!0),"vertical"===i?y.setLayout({dy:a},!0):y.setLayout({dx:a},!0);for(var x=0;x<y.outEdges.length;x++){var b=y.outEdges[x];l[t.indexOf(b)]=0;var w=b.node2;0==--s[e.indexOf(w)]&&d.indexOf(w)<0&&d.push(w)}}++h,u=d,d=[]}for(p=0;p<l.length;p++)if(1===l[p])throw new Error("Sankey is a DAG, the original data has cycle!");var S=g>h-1?g:h-1;r&&"left"!==r&&function(e,t,a,n){if("right"===t){for(var o=[],i=e,r=0;i.length;){for(var l=0;l<i.length;l++){var s=i[l];s.setLayout({skNodeHeight:r},!0);for(var u=0;u<s.inEdges.length;u++){var d=s.inEdges[u];o.indexOf(d.node1)<0&&o.push(d.node1)}}i=o,o=[],++r}c.each(e,(function(e){D(e)||e.setLayout({depth:Math.max(0,n-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&function(e,t){c.each(e,(function(e){D(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,n)}(e,r,0,S);var _="vertical"===i?(o-a)/S:(n-a)/S;!function(e,t,a){c.each(e,(function(e){var n=e.getLayout().depth*t;"vertical"===a?e.setLayout({y:n},!0):e.setLayout({x:n},!0)}))}(e,_,i)})(e,t,a,o,i,l,s),function(e,t,a,n,o,i,r){var l=function(e,t){var a=[],n="vertical"===t?"y":"x",o=(0,M.pv)(e,(function(e){return e.getLayout()[n]}));return o.keys.sort((function(e,t){return e-t})),c.each(o.keys,(function(e){a.push(o.buckets.get(e))})),a}(e,r);(function(e,t,a,n,o,i){var r=1/0;c.each(e,(function(e){var t=e.length,l=0;c.each(e,(function(e){l+=e.getLayout().value}));var s="vertical"===i?(n-(t-1)*o)/l:(a-(t-1)*o)/l;s<r&&(r=s)})),c.each(e,(function(e){c.each(e,(function(e,t){var a=e.getLayout().value*r;"vertical"===i?(e.setLayout({x:t},!0),e.setLayout({dx:a},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:a},!0))}))})),c.each(t,(function(e){var t=+e.getValue()*r;e.setLayout({dy:t},!0)}))})(l,t,a,n,o,r),N(l,o,a,n,r);for(var s=1;i>0;i--)T(l,s*=.99,r),N(l,o,a,n,r),E(l,s,r),N(l,o,a,n,r)}(e,t,i,o,n,r,l),function(e,t){var a="vertical"===t?"x":"y";c.each(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[a]-t.node2.getLayout()[a]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[a]-t.node1.getLayout()[a]}))})),c.each(e,(function(e){var t=0,a=0;c.each(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),c.each(e.inEdges,(function(e){e.setLayout({ty:a},!0),a+=e.getLayout().dy}))}))}(e,l)}(s,u,a,n,i,r,0!==c.filter(s,(function(e){return 0===e.getLayout().value})).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))}))}function D(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function N(e,t,a,n,o){var i="vertical"===o?"x":"y";c.each(e,(function(e){var r,l,s;e.sort((function(e,t){return e.getLayout()[i]-t.getLayout()[i]}));for(var u=0,d=e.length,h="vertical"===o?"dx":"dy",c=0;c<d;c++)(s=u-(l=e[c]).getLayout()[i])>0&&(r=l.getLayout()[i]+s,"vertical"===o?l.setLayout({x:r},!0):l.setLayout({y:r},!0)),u=l.getLayout()[i]+l.getLayout()[h]+t;if((s=u-t-("vertical"===o?n:a))>0){r=l.getLayout()[i]-s,"vertical"===o?l.setLayout({x:r},!0):l.setLayout({y:r},!0),u=r;for(c=d-2;c>=0;--c)(s=(l=e[c]).getLayout()[i]+l.getLayout()[h]+t-u)>0&&(r=l.getLayout()[i]-s,"vertical"===o?l.setLayout({x:r},!0):l.setLayout({y:r},!0)),u=l.getLayout()[i]}}))}function T(e,t,a){c.each(e.slice().reverse(),(function(e){c.each(e,(function(e){if(e.outEdges.length){var n=R(e.outEdges,A,a)/R(e.outEdges,V);if(isNaN(n)){var o=e.outEdges.length;n=o?R(e.outEdges,C,a)/o:0}if("vertical"===a){var i=e.getLayout().x+(n-k(e,a))*t;e.setLayout({x:i},!0)}else{var r=e.getLayout().y+(n-k(e,a))*t;e.setLayout({y:r},!0)}}}))}))}function A(e,t){return k(e.node2,t)*e.getValue()}function C(e,t){return k(e.node2,t)}function P(e,t){return k(e.node1,t)*e.getValue()}function Z(e,t){return k(e.node1,t)}function k(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function V(e){return e.getValue()}function R(e,t,a){for(var n=0,o=e.length,i=-1;++i<o;){var r=+t(e[i],a);isNaN(r)||(n+=r)}return n}function E(e,t,a){c.each(e,(function(e){c.each(e,(function(e){if(e.inEdges.length){var n=R(e.inEdges,P,a)/R(e.inEdges,V);if(isNaN(n)){var o=e.inEdges.length;n=o?R(e.inEdges,Z,a)/o:0}if("vertical"===a){var i=e.getLayout().x+(n-k(e,a))*t;e.setLayout({x:i},!0)}else{var r=e.getLayout().y+(n-k(e,a))*t;e.setLayout({y:r},!0)}}}))}))}var G=a(59937);function O(e){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),a=t.nodes,n=t.edges;if(a.length){var o=1/0,i=-1/0;c.each(a,(function(e){var t=e.getLayout().value;t<o&&(o=t),t>i&&(i=t)})),c.each(a,(function(t){var a=new G.Z({type:"color",mappingMethod:"linear",dataExtent:[o,i],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),n=t.getModel().get(["itemStyle","color"]);null!=n?(t.setVisual("color",n),t.setVisual("style",{fill:n})):(t.setVisual("color",a),t.setVisual("style",{fill:a}))}))}n.length&&c.each(n,(function(e){var t=e.getModel().get("lineStyle");e.setVisual("style",t)}))}))}function z(e){e.registerChartView(v),e.registerSeriesModel(_),e.registerLayout(L),e.registerVisual(O),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))}},14314:(e,t,a)=>{a.d(t,{N:()=>c});var n=a(68023),o=a(70655),i=a(35144);const r=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.hasSymbolVisual=!0,a}return(0,o.ZT)(t,e),t.prototype.getInitialData=function(e,t){return(0,i.Z)(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},t.prototype.brushSelector=function(e,t,a){return a.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(a(93321).Z);var l=a(68162),s=a(48066),u=a(21149);const d=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,o.ZT)(t,e),t.prototype.render=function(e,t,a){var n=e.getData();this._updateSymbolDraw(n,e).updateData(n,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,a){var n=e.getData();this._updateSymbolDraw(n,e).incrementalPrepareUpdate(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,a){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,a){var n=e.getData();if(this.group.dirty(),!this._finished||n.count()>1e4)return{update:!0};var o=(0,u.Z)("").reset(e,t,a);o.progress&&o.progress({start:0,end:n.count(),count:n.count()},n),this._symbolDraw.updateLayout(n)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,a=t&&t.getArea&&t.getArea();return e.get("clip",!0)?a:null},t.prototype._updateSymbolDraw=function(e,t){var a=this._symbolDraw,n=t.pipelineContext.large;return a&&n===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=n?new s.Z:new l.Z,this._isLargeDraw=n,this.group.removeAll()),this.group.add(a.group),a},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(a(75797).Z);var h=a(97111);function c(e){(0,n.D)(h.N),e.registerSeriesModel(r),e.registerChartView(d),e.registerLayout((0,u.Z)("scatter"))}},44036:(e,t,a)=>{a.d(t,{N:()=>R});var n=a(70655),o=a(33051),i=a(75797),r=a(96498),l=a(44292),s=a(97782),u=a(26357),d=a(36006),h=a(30106),c=a(21249),p=a(59361),g=a(3266);const f=function(e){function t(t,a,n,o){var i=e.call(this)||this;i.z2=2,i.textConfig={inside:!0},(0,h.A)(i).seriesIndex=a.seriesIndex;var l=new r.ZP({z2:4,silent:t.getModel().get(["label","silent"])});return i.setTextContent(l),i.updateData(!0,t,a,n,o),i}return(0,n.ZT)(t,e),t.prototype.updateData=function(e,t,a,n,i){this.node=t,t.piece=this,a=a||this._seriesModel,n=n||this._ecModel;var r=this;(0,h.A)(r).dataIndex=t.dataIndex;var s=t.getModel(),d=s.getModel("emphasis"),g=t.getLayout(),f=o.extend({},g);f.label=null;var y=t.getVisual("style");y.lineJoin="bevel";var v=t.getVisual("decal");v&&(y.decal=(0,p.I)(v,i));var m=(0,c.T)(s.getModel("itemStyle"),f,!0);o.extend(f,m),o.each(u.L1,(function(e){var t=r.ensureState(e),a=s.getModel([e,"itemStyle"]);t.style=a.getItemStyle();var n=(0,c.T)(a,f);n&&(t.shape=n)})),e?(r.setShape(f),r.shape.r=g.r0,l.KZ(r,{shape:{r:g.r}},a,t.dataIndex)):(l.D(r,{shape:f},a),(0,l.Zi)(r)),r.useStyle(y),this._updateLabel(a);var x=s.getShallow("cursor");x&&r.attr("cursor",x),this._seriesModel=a||this._seriesModel,this._ecModel=n||this._ecModel;var b=d.get("focus"),w="ancestor"===b?t.getAncestorsIndices():"descendant"===b?t.getDescendantIndices():b;(0,u.k5)(this,w,d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(e){var t=this,a=this.node.getModel(),n=a.getModel("label"),i=this.node.getLayout(),r=i.endAngle-i.startAngle,l=(i.startAngle+i.endAngle)/2,s=Math.cos(l),h=Math.sin(l),c=this,p=c.getTextContent(),f=this.node.dataIndex,y=n.get("minAngle")/180*Math.PI,v=n.get("show")&&!(null!=y&&Math.abs(r)<y);function m(e,t){var a=e.get(t);return null==a?n.get(t):a}p.ignore=!v,o.each(u.qc,(function(n){var u="normal"===n?a.getModel("label"):a.getModel([n,"label"]),y="normal"===n,v=y?p:p.ensureState(n),x=e.getFormattedLabel(f,n);y&&(x=x||t.node.name),v.style=(0,d.Lr)(u,{},null,"normal"!==n,!0),x&&(v.style.text=x);var b=u.get("show");null==b||y||(v.ignore=!b);var w,S=m(u,"position"),_=y?c:c.states[n],I=_.style.fill;_.textConfig={outsideFill:"inherit"===u.get("color")?I:null,inside:"outside"!==S};var M=m(u,"distance")||0,L=m(u,"align");"outside"===S?(w=i.r+M,L=l>Math.PI/2?"right":"left"):L&&"center"!==L?"left"===L?(w=i.r0+M,l>Math.PI/2&&(L="right")):"right"===L&&(w=i.r-M,l>Math.PI/2&&(L="left")):(w=r===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,L="center"),v.style.align=L,v.style.verticalAlign=m(u,"verticalAlign")||"middle",v.x=w*s+i.cx,v.y=w*h+i.cy;var D=m(u,"rotate"),N=0;"radial"===D?(N=(0,g.m)(-l))>Math.PI/2&&N<1.5*Math.PI&&(N+=Math.PI):"tangential"===D?(N=Math.PI/2-l)>Math.PI/2?N-=Math.PI:N<-Math.PI/2&&(N+=Math.PI):o.isNumber(D)&&(N=D*Math.PI/180),v.rotation=(0,g.m)(N)})),p.dirtyStyle()},t}(s.C);var y=a(4130),v=a(68833),m="sunburstRootToNode",x="sunburstHighlight",b="sunburstUnhighlight";var w=a(78988);const S=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,n.ZT)(t,e),t.prototype.render=function(e,t,a,n){var i=this;this.seriesModel=e,this.api=a,this.ecModel=t;var r=e.getData(),l=r.tree.root,s=e.getViewRoot(),u=this.group,d=e.get("renderLabelForZeroData"),h=[];s.eachNode((function(e){h.push(e)}));var c=this._oldChildren||[];!function(n,i){if(0===n.length&&0===i.length)return;function s(e){return e.getId()}function h(o,s){!function(n,o){d||!n||n.getValue()||(n=null);if(n!==l&&o!==l)if(o&&o.piece)n?(o.piece.updateData(!1,n,e,t,a),r.setItemGraphicEl(n.dataIndex,o.piece)):function(e){if(!e)return;e.piece&&(u.remove(e.piece),e.piece=null)}(o);else if(n){var i=new f(n,e,t,a);u.add(i),r.setItemGraphicEl(n.dataIndex,i)}}(null==o?null:n[o],null==s?null:i[s])}new y.Z(i,n,s,s).add(h).update(h).remove(o.curry(h,null)).execute()}(h,c),function(n,o){o.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,n,e,t,a):(i.virtualPiece=new f(n,e,t,a),u.add(i.virtualPiece)),o.piece.off("click"),i.virtualPiece.on("click",(function(e){i._rootToNode(o.parentNode)}))):i.virtualPiece&&(u.remove(i.virtualPiece),i.virtualPiece=null)}(l,s),this._initEvents(),this._oldChildren=h},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",(function(t){var a=!1;e.seriesModel.getViewRoot().eachNode((function(n){if(!a&&n.piece&&n.piece===t.target){var o=n.getModel().get("nodeClick");if("rootToNode"===o)e._rootToNode(n);else if("link"===o){var i=n.getModel(),r=i.get("link");if(r){var l=i.get("target",!0)||"_blank";(0,w.MI)(r,l)}}a=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:m,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var a=t.getData().getItemLayout(0);if(a){var n=e[0]-a.cx,o=e[1]-a.cy,i=Math.sqrt(n*n+o*o);return i<=a.r&&i>=a.r0}},t.type="sunburst",t}(i.Z);var _=a(93321),I=a(9327),M=a(12312),L=a(41903);function D(e){var t=0;o.each(e.children,(function(e){D(e);var a=e.value;o.isArray(a)&&(a=a[0]),t+=a}));var a=e.value;o.isArray(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=t),a<0&&(a=0),o.isArray(e.value)?e.value[0]=a:e.value=a}const N=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.ignoreStyleOnData=!0,a}return(0,n.ZT)(t,e),t.prototype.getInitialData=function(e,t){var a={name:e.name,children:e.data};D(a);var n=this._levelModels=o.map(e.levels||[],(function(e){return new M.Z(e,this,t)}),this),i=I.Z.createTree(a,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var a=i.getNodeByDataIndex(t),o=n[a.depth];return o&&(e.parentModel=o),e}))}));return i.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return a.treePathInfo=(0,v.n3)(n,this),a},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){(0,L.Z)(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(_.Z);var T=a(85669),A=Math.PI/180;function C(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.get("center"),n=e.get("radius");o.isArray(n)||(n=[0,n]),o.isArray(t)||(t=[t,t]);var i=a.getWidth(),r=a.getHeight(),l=Math.min(i,r),s=(0,T.GM)(t[0],i),u=(0,T.GM)(t[1],r),d=(0,T.GM)(n[0],l/2),h=(0,T.GM)(n[1],l/2),c=-e.get("startAngle")*A,p=e.get("minAngle")*A,g=e.getData().tree.root,f=e.getViewRoot(),y=f.depth,v=e.get("sort");null!=v&&P(f,v);var m=0;o.each(f.children,(function(e){!isNaN(e.getValue())&&m++}));var x=f.getValue(),b=Math.PI/(x||m)*2,w=f.depth>0,S=f.height-(w?-1:1),_=(h-d)/(S||1),I=e.get("clockwise"),M=e.get("stillShowZeroSum"),L=I?1:-1,D=function(t,a){if(t){var n=a;if(t!==g){var i=t.getValue(),r=0===x&&M?b:i*b;r<p&&(r=p),n=a+L*r;var h=t.depth-y-(w?-1:1),c=d+_*h,f=d+_*(h+1),v=e.getLevelModel(t);if(v){var m=v.get("r0",!0),S=v.get("r",!0),N=v.get("radius",!0);null!=N&&(m=N[0],S=N[1]),null!=m&&(c=(0,T.GM)(m,l/2)),null!=S&&(f=(0,T.GM)(S,l/2))}t.setLayout({angle:r,startAngle:a,endAngle:n,clockwise:I,cx:s,cy:u,r0:c,r:f})}if(t.children&&t.children.length){var A=0;o.each(t.children,(function(e){A+=D(e,a+A)}))}return n-a}};if(w){var N=d,C=d+_,Z=2*Math.PI;g.setLayout({angle:Z,startAngle:c,endAngle:c+Z,clockwise:I,cx:s,cy:u,r0:N,r:C})}D(f,c)}))}function P(e,t){var a=e.children||[];e.children=function(e,t){if(o.isFunction(t)){var a=o.map(e,(function(e,t){var a=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return a}},index:t}}));return a.sort((function(e,a){return t(e.params,a.params)})),o.map(a,(function(t){return e[t.index]}))}var n="asc"===t;return e.sort((function(e,t){var a=(e.getValue()-t.getValue())*(n?1:-1);return 0===a?(e.dataIndex-t.dataIndex)*(n?-1:1):a}))}(a,t),a.length&&o.each(e.children,(function(e){P(e,t)}))}var Z=a(21092);function k(e){var t={};e.eachSeriesByType("sunburst",(function(e){var a=e.getData(),n=a.tree;n.eachNode((function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();r.fill||(r.fill=function(e,a,n){for(var i=e;i&&i.depth>1;)i=i.parentNode;var r=a.getColorFromPalette(i.name||i.dataIndex+"",t);return e.depth>1&&(0,o.isString)(r)&&(r=(0,Z.lift)(r,(e.depth-1)/(n-1)*.5)),r}(i,e,n.root.height));var l=a.ensureUniqueItemVisual(i.dataIndex,"style");(0,o.extend)(l,r)}))}))}var V=a(22528);function R(e){e.registerChartView(S),e.registerSeriesModel(N),e.registerLayout((0,o.curry)(C,"sunburst")),e.registerProcessor((0,o.curry)(V.Z,"sunburst")),e.registerVisual(k),function(e){e.registerAction({type:m,update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t,a){var n=(0,v.d1)(e,[m],t);if(n){var o=t.getViewRoot();o&&(e.direction=(0,v.Gx)(o,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}}))})),e.registerAction({type:x,update:"none"},(function(e,t,a){e=(0,o.extend)({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},(function(t){var a=(0,v.d1)(e,[x],t);a&&(e.dataIndex=a.node.dataIndex)})),a.dispatchAction((0,o.extend)(e,{type:"highlight"}))})),e.registerAction({type:b,update:"updateView"},(function(e,t,a){e=(0,o.extend)({},e),a.dispatchAction((0,o.extend)(e,{type:"downplay"}))}))}(e)}},4182:(e,t,a)=>{a.d(t,{N:()=>M});var n=a(70655),o=a(30633),i=a(38154),r=a(44292),l=a(25293),s=a(26357),u=a(36006),d=a(33051),h=a(4130);const c=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._layers=[],a}return(0,n.ZT)(t,e),t.prototype.render=function(e,t,a){var n=e.getData(),c=this,p=this.group,g=e.getLayerSeries(),f=n.getLayout("layoutInfo"),y=f.rect,v=f.boundaryGap;function m(e){return e.name}p.x=0,p.y=y.y+v[0];var x=new h.Z(this._layersSeries||[],g,m,m),b=[];function w(t,a,d){var h=c._layers;if("remove"!==t){for(var f,y,v=[],m=[],x=g[a].indices,w=0;w<x.length;w++){var S=n.getItemLayout(x[w]),_=S.x,I=S.y0,M=S.y;v.push(_,I),m.push(_,I+M),f=n.getItemVisual(x[w],"style")}var L=n.getItemLayout(x[0]),D=e.getModel("label").get("margin"),N=e.getModel("emphasis");if("add"===t){var T=b[a]=new i.Z;y=new o.K({shape:{points:v,stackedOnPoints:m,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),T.add(y),p.add(T),e.isAnimationEnabled()&&y.setClipPath(function(e,t,a){var n=new l.Z({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return r.KZ(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,a),n}(y.getBoundingRect(),e,(function(){y.removeClipPath()})))}else{T=h[d];y=T.childAt(0),p.add(T),b[a]=T,r.D(y,{shape:{points:v,stackedOnPoints:m}},e),(0,r.Zi)(y)}(0,u.ni)(y,(0,u.k3)(e),{labelDataIndex:x[w-1],defaultText:n.getName(x[w-1]),inheritColor:f.fill},{normal:{verticalAlign:"middle"}}),y.setTextConfig({position:null,local:!0});var A=y.getTextContent();A&&(A.x=L.x-D,A.y=L.y0+L.y/2),y.useStyle(f),n.setItemGraphicEl(a,y),(0,s.WO)(y,e),(0,s.k5)(y,N.get("focus"),N.get("blurScope"),N.get("disabled"))}else p.remove(h[a])}x.add((0,d.bind)(w,this,"add")).update((0,d.bind)(w,this,"update")).remove((0,d.bind)(w,this,"remove")).execute(),this._layersSeries=g,this._layers=b},t.type="themeRiver",t}(a(75797).Z);var p=a(93321),g=a(55623),f=a(10381),y=a(5101),v=a(32234),m=a(72019),x=a(5685);const b=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a}return(0,n.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new m.Z(d.bind(this.getData,this),d.bind(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,a={},n=(0,v.pv)(e,(function(e){return a.hasOwnProperty(e[0]+"")||(a[e[0]+""]=-1),e[2]})),o=[];n.buckets.each((function(e,t){o.push({name:t,dataList:e})}));for(var i=o.length,r=0;r<i;++r){for(var l=o[r].name,s=0;s<o[r].dataList.length;++s){var u=o[r].dataList[s][0]+"";a[u]=r}for(var u in a)a.hasOwnProperty(u)&&a[u]!==r&&(a[u]=r,e[t]=[u,0,l],t++)}return e},t.prototype.getInitialData=function(e,t){for(var a=this.getReferringComponents("singleAxis",v.C6).models[0].get("type"),n=d.filter(e.data,(function(e){return void 0!==e[2]})),o=this.fixData(n||[]),i=[],r=this.nameMap=d.createHashMap(),l=0,s=0;s<o.length;++s)i.push(o[s][2]),r.get(o[s][2])||(r.set(o[s][2],l),l++);var u=(0,g.Z)(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:(0,f.T)(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new y.Z(u,this);return h.initData(o),h},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),a=[],n=0;n<t;++n)a[n]=n;var o=e.mapDimension("single"),i=(0,v.pv)(a,(function(t){return e.get("name",t)})),r=[];return i.buckets.each((function(t,a){t.sort((function(t,a){return e.get(o,t)-e.get(o,a)})),r.push({name:a,indices:t})})),r},t.prototype.getAxisTooltipData=function(e,t,a){d.isArray(e)||(e=e?[e]:[]);for(var n,o=this.getData(),i=this.getLayerSeries(),r=[],l=i.length,s=0;s<l;++s){for(var u=Number.MAX_VALUE,h=-1,c=i[s].indices.length,p=0;p<c;++p){var g=o.get(e[0],i[s].indices[p]),f=Math.abs(g-t);f<=u&&(n=g,u=f,h=i[s].indices[p])}r.push(h)}return{dataIndices:r,nestestValue:n}},t.prototype.formatTooltip=function(e,t,a){var n=this.getData(),o=n.getName(e),i=n.get(n.mapDimension("value"),e);return(0,x.TX)("nameValue",{name:o,value:i})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(p.Z);var w=a(85669);function S(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),a=e.coordinateSystem,n={},o=a.getRect();n.rect=o;var i=e.get("boundaryGap"),r=a.getAxis();(n.boundaryGap=i,"horizontal"===r.orient)?(i[0]=w.GM(i[0],o.height),i[1]=w.GM(i[1],o.height),_(t,e,o.height-i[0]-i[1])):(i[0]=w.GM(i[0],o.width),i[1]=w.GM(i[1],o.width),_(t,e,o.width-i[0]-i[1]));t.setLayout("layoutInfo",n)}))}function _(e,t,a){if(e.count())for(var n,o=t.coordinateSystem,i=t.getLayerSeries(),r=e.mapDimension("single"),l=e.mapDimension("value"),s=d.map(i,(function(t){return d.map(t.indices,(function(t){var a=o.dataToPoint(e.get(r,t));return a[1]=e.get(l,t),a}))})),u=function(e){for(var t=e.length,a=e[0].length,n=[],o=[],i=0,r=0;r<a;++r){for(var l=0,s=0;s<t;++s)l+=e[s][r][1];l>i&&(i=l),n.push(l)}for(var u=0;u<a;++u)o[u]=(i-n[u])/2;i=0;for(var d=0;d<a;++d){var h=n[d]+o[d];h>i&&(i=h)}return{y0:o,max:i}}(s),h=u.y0,c=a/u.max,p=i.length,g=i[0].indices.length,f=0;f<g;++f){n=h[f]*c,e.setItemLayout(i[0].indices[f],{layerIndex:0,x:s[0][f][0],y0:n,y:s[0][f][1]*c});for(var y=1;y<p;++y)n+=s[y-1][f][1]*c,e.setItemLayout(i[y].indices[f],{layerIndex:y,x:s[y][f][0],y0:n,y:s[y][f][1]*c})}}var I=a(22528);function M(e){e.registerChartView(c),e.registerSeriesModel(b),e.registerLayout(S),e.registerProcessor((0,I.Z)("themeRiver"))}},29056:(e,t,a)=>{a.d(t,{N:()=>K});var n=a(70655),o=a(33051),i=a(38154),r=a(44292),l=a(54174),s=a(30106),u=a(66351),d=a(76172);function h(e,t){var a=e.isExpand?e.children:[],n=e.parentNode.children,o=e.hierNode.i?n[e.hierNode.i-1]:null;if(a.length){!function(e){var t=e.children,a=t.length,n=0,o=0;for(;--a>=0;){var i=t[a];i.hierNode.prelim+=n,i.hierNode.modifier+=n,o+=i.hierNode.change,n+=i.hierNode.shift+o}}(e);var i=(a[0].hierNode.prelim+a[a.length-1].hierNode.prelim)/2;o?(e.hierNode.prelim=o.hierNode.prelim+t(e,o),e.hierNode.modifier=e.hierNode.prelim-i):e.hierNode.prelim=i}else o&&(e.hierNode.prelim=o.hierNode.prelim+t(e,o));e.parentNode.hierNode.defaultAncestor=function(e,t,a,n){if(t){for(var o=e,i=e,r=i.parentNode.children[0],l=t,s=o.hierNode.modifier,u=i.hierNode.modifier,d=r.hierNode.modifier,h=l.hierNode.modifier;l=y(l),i=v(i),l&&i;){o=y(o),r=v(r),o.hierNode.ancestor=e;var c=l.hierNode.prelim+h-i.hierNode.prelim-u+n(l,i);c>0&&(x(m(l,e,a),e,c),u+=c,s+=c),h+=l.hierNode.modifier,u+=i.hierNode.modifier,s+=o.hierNode.modifier,d+=r.hierNode.modifier}l&&!y(o)&&(o.hierNode.thread=l,o.hierNode.modifier+=h-s),i&&!v(r)&&(r.hierNode.thread=i,r.hierNode.modifier+=u-d,a=e)}return a}(e,o,e.parentNode.hierNode.defaultAncestor||n[0],t)}function c(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function p(e){return arguments.length?e:b}function g(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function f(e,t){return d.ME(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function y(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function v(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function m(e,t,a){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:a}function x(e,t,a){var n=a/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=a,t.hierNode.modifier+=a,t.hierNode.prelim+=a,e.hierNode.change+=n}function b(e,t){return e.parentNode===t.parentNode?1:2}var w=a(3726),S=a(23845),_=a(31194),I=a(9176),M=a(61485),L=a(85669),D=a(75797),N=a(8846),T=a(26357),A=function(){this.parentPoint=[],this.childPoints=[]},C=function(e){function t(t){return e.call(this,t)||this}return(0,n.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new A},t.prototype.buildPath=function(e,t){var a=t.childPoints,n=a.length,o=t.parentPoint,i=a[0],r=a[n-1];if(1===n)return e.moveTo(o[0],o[1]),void e.lineTo(i[0],i[1]);var l=t.orient,s="TB"===l||"BT"===l?0:1,u=1-s,d=(0,L.GM)(t.forkPosition,1),h=[];h[s]=o[s],h[u]=o[u]+(r[u]-o[u])*d,e.moveTo(o[0],o[1]),e.lineTo(h[0],h[1]),e.moveTo(i[0],i[1]),h[s]=i[s],e.lineTo(h[0],h[1]),h[s]=r[s],e.lineTo(h[0],h[1]),e.lineTo(r[0],r[1]);for(var c=1;c<n-1;c++){var p=a[c];e.moveTo(p[0],p[1]),h[s]=p[s],e.lineTo(h[0],h[1])}},t}(N.ZP),P=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._mainGroup=new i.Z,a}return(0,n.ZT)(t,e),t.prototype.init=function(e,t){this._controller=new I.Z(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,a){var n=e.getData(),o=e.layoutInfo,i=this._mainGroup;"radial"===e.get("layout")?(i.x=o.x+o.width/2,i.y=o.y+o.height/2):(i.x=o.x,i.y=o.y),this._updateViewCoordSys(e,a),this._updateController(e,t,a);var r=this._data;n.diff(r).add((function(t){Z(n,t)&&k(n,t,null,i,e)})).update((function(t,a){var o=r.getItemGraphicEl(a);Z(n,t)?k(n,t,o,i,e):o&&E(r,a,o,i,e)})).remove((function(t){var a=r.getItemGraphicEl(t);a&&E(r,t,a,i,e)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&n.eachItemGraphicEl((function(t,n){t.off("click").on("click",(function(){a.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:n})}))})),this._data=n},t.prototype._updateViewCoordSys=function(e,t){var a=e.getData(),n=[];a.each((function(e){var t=a.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||n.push([+t.x,+t.y])}));var o=[],i=[];w.zk(n,o,i);var r=this._min,l=this._max;i[0]-o[0]==0&&(o[0]=r?r[0]:o[0]-1,i[0]=l?l[0]:i[0]+1),i[1]-o[1]==0&&(o[1]=r?r[1]:o[1]-1,i[1]=l?l[1]:i[1]+1);var s=e.coordinateSystem=new S.Z;s.zoomLimit=e.get("scaleLimit"),s.setBoundingRect(o[0],o[1],i[0]-o[0],i[1]-o[1]),s.setCenter(e.get("center"),t),s.setZoom(e.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this._min=o,this._max=i},t.prototype._updateController=function(e,t,a){var n=this,o=this._controller,i=this._controllerHost,r=this.group;o.setPointerChecker((function(t,n,o){var i=r.getBoundingRect();return i.applyTransform(r.transform),i.contain(n,o)&&!(0,M.l)(t,a,e)})),o.enable(e.get("roam")),i.zoomLimit=e.get("scaleLimit"),i.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){_.e(i,t.dx,t.dy),a.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})})).on("zoom",(function(t){_.H(i,t.scale,t.originX,t.originY),a.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),n._updateNodeAndLinkScale(e),a.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),a=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(a)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var a=this._nodeScaleRatio,n=t.scaleX||1;return((t.getZoom()-1)*a+1)/n},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(D.Z);function Z(e,t){var a=e.getItemLayout(t);return a&&!isNaN(a.x)&&!isNaN(a.y)}function k(e,t,a,n,i){var d=!a,h=e.tree.getNodeByDataIndex(t),c=h.getModel(),p=h.getVisual("style").fill,g=!1===h.isExpand&&0!==h.children.length?p:"#fff",f=e.tree.root,y=h.parentNode===f?h:h.parentNode||h,v=e.getItemGraphicEl(y.dataIndex),m=y.getLayout(),x=v?{x:v.__oldX,y:v.__oldY,rawX:v.__radialOldRawX,rawY:v.__radialOldRawY}:m,b=h.getLayout();d?((a=new u.Z(e,t,null,{symbolInnerColor:g,useNameLabel:!0})).x=x.x,a.y=x.y):a.updateData(e,t,null,{symbolInnerColor:g,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=b.rawX,a.__radialRawY=b.rawY,n.add(a),e.setItemGraphicEl(t,a),a.__oldX=a.x,a.__oldY=a.y,r.D(a,{x:b.x,y:b.y},i);var w=a.getSymbolPath();if("radial"===i.get("layout")){var S=f.children[0],_=S.getLayout(),I=S.children.length,M=void 0,L=void 0;if(b.x===_.x&&!0===h.isExpand&&S.children.length){var D={x:(S.children[0].getLayout().x+S.children[I-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[I-1].getLayout().y)/2};(M=Math.atan2(D.y-_.y,D.x-_.x))<0&&(M=2*Math.PI+M),(L=D.x<_.x)&&(M-=Math.PI)}else(M=Math.atan2(b.y-_.y,b.x-_.x))<0&&(M=2*Math.PI+M),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(L=b.x<_.x)&&(M-=Math.PI):(L=b.x>_.x)||(M-=Math.PI);var N=L?"left":"right",A=c.getModel("label"),P=A.get("rotate"),Z=P*(Math.PI/180),k=w.getTextContent();k&&(w.setTextConfig({position:A.get("position")||N,rotation:null==P?-M:Z,origin:"center"}),k.setStyle("verticalAlign","middle"))}var V=c.get(["emphasis","focus"]),R="relative"===V?o.concatArray(h.getAncestorsIndices(),h.getDescendantIndices()):"ancestor"===V?h.getAncestorsIndices():"descendant"===V?h.getDescendantIndices():null;R&&((0,s.A)(a).focus=R),function(e,t,a,n,i,s,u,d){var h=t.getModel(),c=e.get("edgeShape"),p=e.get("layout"),g=e.getOrient(),f=e.get(["lineStyle","curveness"]),y=e.get("edgeForkPosition"),v=h.getModel("lineStyle").getLineStyle(),m=n.__edge;if("curve"===c)t.parentNode&&t.parentNode!==a&&(m||(m=n.__edge=new l.Z({shape:G(p,g,f,i,i)})),r.D(m,{shape:G(p,g,f,s,u)},e));else if("polyline"===c)if("orthogonal"===p){if(t!==a&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var x=t.children,b=[],w=0;w<x.length;w++){var S=x[w].getLayout();b.push([S.x,S.y])}m||(m=n.__edge=new C({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:g,forkPosition:y}})),r.D(m,{shape:{parentPoint:[u.x,u.y],childPoints:b}},e)}}else 0;m&&("polyline"!==c||t.isExpand)&&(m.useStyle(o.defaults({strokeNoScale:!0,fill:null},v)),(0,T.WO)(m,h,"lineStyle"),(0,T.MA)(m),d.add(m))}(i,h,f,a,x,m,b,n),a.__edge&&(a.onHoverStateChange=function(t){if("blur"!==t){var n=h.parentNode&&e.getItemGraphicEl(h.parentNode.dataIndex);n&&n.hoverState===T.CX||(0,T.Gl)(a.__edge,t)}})}function V(e,t,a,n,o){var i=R(t.tree.root,e),l=i.source,s=i.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var d=t.getItemGraphicEl(l.dataIndex).__edge,h=u.__edge||(!1===l.isExpand||1===l.children.length?d:void 0),c=n.get("edgeShape"),p=n.get("layout"),g=n.get("orient"),f=n.get(["lineStyle","curveness"]);h&&("curve"===c?r.bX(h,{shape:G(p,g,f,s,s),style:{opacity:0}},n,{cb:function(){a.remove(h)},removeOpt:o}):"polyline"===c&&"orthogonal"===n.get("layout")&&r.bX(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},n,{cb:function(){a.remove(h)},removeOpt:o}))}}function R(e,t){for(var a,n=t.parentNode===e?t:t.parentNode||t;null==(a=n.getLayout());)n=n.parentNode===e?n:n.parentNode||n;return{source:n,sourceLayout:a}}function E(e,t,a,n,o){var i=e.tree.getNodeByDataIndex(t),l=R(e.tree.root,i).sourceLayout,s={duration:o.get("animationDurationUpdate"),easing:o.get("animationEasingUpdate")};r.bX(a,{x:l.x+1,y:l.y+1},o,{cb:function(){n.remove(a),e.setItemGraphicEl(t,null)},removeOpt:s}),a.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),i.children.forEach((function(t){V(t,e,n,o,s)})),V(i,e,n,o,s)}function G(e,t,a,n,o){var i,r,l,s,u,d,h,c;if("radial"===e){u=n.rawX,h=n.rawY,d=o.rawX,c=o.rawY;var p=g(u,h),f=g(u,h+(c-h)*a),y=g(d,c+(h-c)*a),v=g(d,c);return{x1:p.x||0,y1:p.y||0,x2:v.x||0,y2:v.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:y.x||0,cpy2:y.y||0}}return u=n.x,h=n.y,d=o.x,c=o.y,"LR"!==t&&"RL"!==t||(i=u+(d-u)*a,r=h,l=d+(u-d)*a,s=c),"TB"!==t&&"BT"!==t||(i=u,r=h+(c-h)*a,l=d,s=c+(h-c)*a),{x1:u,y1:h,x2:d,y2:c,cpx1:i,cpy1:r,cpx2:l,cpy2:s}}const O=P;var z=a(93321),B=a(9327),W=a(12312),F=a(5685),H=a(68833);const X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,n.ZT)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},a=e.leaves||{},n=new W.Z(a,this,this.ecModel),o=B.Z.createTree(t,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var a=o.getNodeByDataIndex(t);return a&&a.children.length&&a.isExpand||(e.parentModel=n),e}))}));var i=0;o.eachNode("preorder",(function(e){e.depth>i&&(i=e.depth)}));var r=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:i;return o.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=r})),o.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,a){for(var n=this.getData().tree,o=n.root.children[0],i=n.getNodeByDataIndex(e),r=i.getValue(),l=i.name;i&&i!==o;)l=i.parentNode.name+"."+l,i=i.parentNode;return(0,F.TX)("nameValue",{name:l,value:r,noValue:isNaN(r)||null==r})},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=(0,H.n3)(n,this),a.collapsed=!n.isExpand,a},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(z.Z);function Y(e,t){for(var a,n=[e];a=n.pop();)if(t(a),a.isExpand){var o=a.children;if(o.length)for(var i=o.length-1;i>=0;i--)n.push(o[i])}}function U(e,t){e.eachSeriesByType("tree",(function(e){!function(e,t){var a=f(e,t);e.layoutInfo=a;var n=e.get("layout"),o=0,i=0,r=null;"radial"===n?(o=2*Math.PI,i=Math.min(a.height,a.width)/2,r=p((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(o=a.width,i=a.height,r=p());var l=e.getData().tree.root,s=l.children[0];if(s){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var a,n,o=[t];a=o.pop();)if(n=a.children,a.isExpand&&n.length)for(var i=n.length-1;i>=0;i--){var r=n[i];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i,thread:null},o.push(r)}}(l),function(e,t,a){for(var n,o=[e],i=[];n=o.pop();)if(i.push(n),n.isExpand){var r=n.children;if(r.length)for(var l=0;l<r.length;l++)o.push(r[l])}for(;n=i.pop();)t(n,a)}(s,h,r),l.hierNode.modifier=-s.hierNode.prelim,Y(s,c);var u=s,d=s,y=s;Y(s,(function(e){var t=e.getLayout().x;t<u.getLayout().x&&(u=e),t>d.getLayout().x&&(d=e),e.depth>y.depth&&(y=e)}));var v=u===d?1:r(u,d)/2,m=v-u.getLayout().x,x=0,b=0,w=0,S=0;if("radial"===n)x=o/(d.getLayout().x+v+m),b=i/(y.depth-1||1),Y(s,(function(e){w=(e.getLayout().x+m)*x,S=(e.depth-1)*b;var t=g(w,S);e.setLayout({x:t.x,y:t.y,rawX:w,rawY:S},!0)}));else{var _=e.getOrient();"RL"===_||"LR"===_?(b=i/(d.getLayout().x+v+m),x=o/(y.depth-1||1),Y(s,(function(e){S=(e.getLayout().x+m)*b,w="LR"===_?(e.depth-1)*x:o-(e.depth-1)*x,e.setLayout({x:w,y:S},!0)}))):"TB"!==_&&"BT"!==_||(x=o/(d.getLayout().x+v+m),b=i/(y.depth-1||1),Y(s,(function(e){w=(e.getLayout().x+m)*x,S="TB"===_?(e.depth-1)*b:i-(e.depth-1)*b,e.setLayout({x:w,y:S},!0)})))}}}(e,t)}))}function q(e){e.eachSeriesByType("tree",(function(e){var t=e.getData();t.tree.eachNode((function(e){var a=e.getModel().getModel("itemStyle").getItemStyle(),n=t.ensureUniqueItemVisual(e.dataIndex,"style");(0,o.extend)(n,a)}))}))}var j=a(60553);function K(e){e.registerChartView(O),e.registerSeriesModel(X),e.registerLayout(U),e.registerVisual(q),function(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var a=e.dataIndex,n=t.getData().tree.getNodeByDataIndex(a);n.isExpand=!n.isExpand}))})),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t,a){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var n=t.coordinateSystem,o=(0,j.A)(n,e,void 0,a);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)}))}))}(e)}},94825:(e,t,a)=>{a.d(t,{N:()=>me});var n=a(68833),o=a(33051),i=["treemapZoomToNode","treemapRender","treemapMove"];var r=a(70655),l=a(93321),s=a(9327),u=a(12312),d=a(32234),h=a(5685),c=a(41903),p=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a.preventUsingHoverLayer=!0,a}return(0,r.ZT)(t,e),t.prototype.getInitialData=function(e,t){var a={name:e.name,children:e.data};g(a);var n=e.levels||[],i=this.designatedVisualItemStyle={},r=new u.Z({itemStyle:i},this,t);n=e.levels=function(e,t){var a,n,i=(0,d.kF)(t.get("color")),r=(0,d.kF)(t.get(["aria","decal","decals"]));if(!i)return;e=e||[],o.each(e,(function(e){var t=new u.Z(e),o=t.get("color"),i=t.get("decal");(t.get(["itemStyle","color"])||o&&"none"!==o)&&(a=!0),(t.get(["itemStyle","decal"])||i&&"none"!==i)&&(n=!0)}));var l=e[0]||(e[0]={});a||(l.color=i.slice());!n&&r&&(l.decal=r.slice());return e}(n,t);var l=o.map(n||[],(function(e){return new u.Z(e,r,t)}),this),h=s.Z.createTree(a,this,(function(e){e.wrapMethod("getItemModel",(function(e,t){var a=h.getNodeByDataIndex(t),n=a?l[a.depth]:null;return e.parentModel=n||r,e}))}));return h.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,a){var n=this.getData(),o=this.getRawValue(e),i=n.getName(e);return(0,h.TX)("nameValue",{name:i,value:o})},t.prototype.getDataParams=function(t){var a=e.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(t);return a.treeAncestors=(0,n.n3)(o,this),a.treePathInfo=a.treeAncestors,a},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var a=t.get(e);return null==a&&t.set(e,a=this._idIndexMapCount++),a},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){(0,c.Z)(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(l.Z);function g(e){var t=0;o.each(e.children,(function(e){g(e);var a=e.value;o.isArray(a)&&(a=a[0]),t+=a}));var a=e.value;o.isArray(a)&&(a=a[0]),(null==a||isNaN(a))&&(a=t),a<0&&(a=0),o.isArray(e.value)?e.value[0]=a:e.value=a}const f=p;var y=a(38154),v=a(25293),m=a(30106),x=a(26357),b=a(4130),w=a(95094),S=a(96498),_=a(76172),I=a(36006),M=function(){function e(e){this.group=new y.Z,e.add(this.group)}return e.prototype.render=function(e,t,a,n){var o=e.getModel("breadcrumb"),i=this.group;if(i.removeAll(),o.get("show")&&a){var r=o.getModel("itemStyle"),l=o.getModel("emphasis"),s=r.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,d,s),this._renderContent(e,d,r,l,s,u,n),_.p$(i,d.pos,d.box)}},e.prototype._prepare=function(e,t,a){for(var n=e;n;n=n.parentNode){var o=(0,d.U5)(n.getModel().get("name"),""),i=a.getTextRect(o),r=Math.max(i.width+16,t.emptyItemWidth);t.totalWidth+=r+8,t.renderList.push({node:n,text:o,width:r})}},e.prototype._renderContent=function(e,t,a,n,i,r,l){for(var s=0,u=t.emptyItemWidth,d=e.get(["breadcrumb","height"]),h=_.lq(t.pos,t.box),c=t.totalWidth,p=t.renderList,g=n.getModel("itemStyle").getItemStyle(),f=p.length-1;f>=0;f--){var y=p[f],v=y.node,m=y.width,b=y.text;c>h.width&&(c-=m-u,m=u,b=null);var M=new w.Z({shape:{points:L(s,0,m,d,f===p.length-1,0===f)},style:(0,o.defaults)(a.getItemStyle(),{lineJoin:"bevel"}),textContent:new S.ZP({style:(0,I.Lr)(i,{text:b})}),textConfig:{position:"inside"},z2:1e4*x.zr,onclick:(0,o.curry)(l,v)});M.disableLabelAnimation=!0,M.getTextContent().ensureState("emphasis").style=(0,I.Lr)(r,{text:b}),M.ensureState("emphasis").style=g,(0,x.k5)(M,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(M),D(M,e,v),s+=m+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function L(e,t,a,n,o,i){var r=[[o?e:e-5,t],[e+a,t],[e+a,t+n],[o?e:e-5,t+n]];return!i&&r.splice(2,0,[e+a+5,t+n/2]),!o&&r.push([e,t+n/2]),r}function D(e,t,a){(0,m.A)(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&(0,n.n3)(a,t)}}const N=M;var T=a(9176),A=a(60479),C=a(32892),P=a(34584),Z=a(59066),k=a(75797),V=a(7719),R=a(78988),E=y.Z,G=v.Z,O="label",z="upperLabel",B=10*x.zr,W=2*x.zr,F=3*x.zr,H=(0,Z.Z)([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),X=function(e){var t=H(e);return t.stroke=t.fill=t.lineWidth=null,t},Y=(0,d.Yf)(),U=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=t.type,a._state="ready",a._storage={nodeGroup:[],background:[],content:[]},a}return(0,r.ZT)(t,e),t.prototype.render=function(e,t,a,i){var r=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!((0,o.indexOf)(r,e)<0)){this.seriesModel=e,this.api=a,this.ecModel=t;var l=n.d1(i,["treemapZoomToNode","treemapRootToNode"],e),s=i&&i.type,u=e.layoutInfo,d=!this._oldTree,h=this._storage,c="treemapRootToNode"===s&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(u),g=e.get("animation"),f=this._doRender(p,e,c);!g||d||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?f.renderFinally():this._doAnimation(p,f,e,c),this._resetController(a),this._renderBreadcrumb(e,a,l)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new E,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,a){var n=t.getData().tree,i=this._oldTree,r={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},s=this._storage,u=[];function h(e,n,i,h){return function(e,t,a,n,i,r,l,s,u,h){if(!l)return;var c=l.getLayout(),p=e.getData(),g=l.getModel();if(p.setItemGraphicEl(l.dataIndex,null),!c||!c.isInView)return;var f=c.width,v=c.height,b=c.borderWidth,w=c.invisible,S=l.getRawIndex(),_=s&&s.getRawIndex(),M=l.viewChildren,L=c.upperHeight,D=M&&M.length,N=g.getModel("itemStyle"),T=g.getModel(["emphasis","itemStyle"]),A=g.getModel(["blur","itemStyle"]),C=g.getModel(["select","itemStyle"]),P=N.get("borderRadius")||0,Z=ne("nodeGroup",E);if(!Z)return;if(u.add(Z),Z.x=c.x||0,Z.y=c.y||0,Z.markRedraw(),Y(Z).nodeWidth=f,Y(Z).nodeHeight=v,c.isAboveViewRoot)return Z;var k=ne("background",G,h,W);k&&$(Z,k,D&&c.upperLabelHeight);var R=g.getModel("emphasis"),U=R.get("focus"),q=R.get("blurScope"),j=R.get("disabled"),K="ancestor"===U?l.getAncestorsIndices():"descendant"===U?l.getDescendantIndices():U;if(D)(0,x.Av)(Z)&&(0,x.Nj)(Z,!1),k&&((0,x.Nj)(k,!j),p.setItemGraphicEl(l.dataIndex,k),(0,x.Ib)(k,K,q));else{var J=ne("content",G,h,F);J&&Q(Z,J),k.disableMorphing=!0,k&&(0,x.Av)(k)&&(0,x.Nj)(k,!1),(0,x.Nj)(Z,!j),p.setItemGraphicEl(l.dataIndex,Z),(0,x.Ib)(Z,K,q)}return Z;function $(t,a,n){var o=(0,m.A)(a);if(o.dataIndex=l.dataIndex,o.seriesIndex=e.seriesIndex,a.setShape({x:0,y:0,width:f,height:v,r:P}),w)ee(a);else{a.invisible=!1;var i=l.getVisual("style"),r=i.stroke,s=X(N);s.fill=r;var u=H(T);u.fill=T.get("borderColor");var d=H(A);d.fill=A.get("borderColor");var h=H(C);if(h.fill=C.get("borderColor"),n){var c=f-2*b;te(a,r,i.opacity,{x:b,y:0,width:c,height:L})}else a.removeTextContent();a.setStyle(s),a.ensureState("emphasis").style=u,a.ensureState("blur").style=d,a.ensureState("select").style=h,(0,x.MA)(a)}t.add(a)}function Q(t,a){var n=(0,m.A)(a);n.dataIndex=l.dataIndex,n.seriesIndex=e.seriesIndex;var o=Math.max(f-2*b,0),i=Math.max(v-2*b,0);if(a.culling=!0,a.setShape({x:b,y:b,width:o,height:i,r:P}),w)ee(a);else{a.invisible=!1;var r=l.getVisual("style"),s=r.fill,u=X(N);u.fill=s,u.decal=r.decal;var d=H(T),h=H(A),c=H(C);te(a,s,r.opacity,null),a.setStyle(u),a.ensureState("emphasis").style=d,a.ensureState("blur").style=h,a.ensureState("select").style=c,(0,x.MA)(a)}t.add(a)}function ee(e){!e.invisible&&r.push(e)}function te(t,a,n,i){var r=g.getModel(i?z:O),s=(0,d.U5)(g.get("name"),null),u=r.getShallow("show");(0,I.ni)(t,(0,I.k3)(g,i?z:O),{defaultText:u?s:null,inheritColor:a,defaultOpacity:n,labelFetcher:e,labelDataIndex:l.dataIndex});var h=t.getTextContent();if(h){var p=h.style,f=(0,o.normalizeCssArray)(p.padding||0);i&&(t.setTextConfig({layoutRect:i}),h.disableLabelLayout=!0),h.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-f[1]-f[3],0),a=Math.max((i?i.height:t.shape.height)-f[0]-f[2],0);p.width===e&&p.height===a||h.setStyle({width:e,height:a})},p.truncateMinChar=2,p.lineOverflow="truncate",ae(p,i,c);var y=h.getState("emphasis");ae(y?y.style:null,i,c)}}function ae(t,a,n){var o=t?t.text:null;if(!a&&n.isLeafRoot&&null!=o){var i=e.get("drillDownIcon",!0);t.text=i?i+" "+o:o}}function ne(e,n,o,r){var l=null!=_&&a[e][_],s=i[e];return l?(a[e][_]=null,oe(s,l)):w||((l=new n)instanceof V.ZP&&(l.z2=function(e,t){return e*B+t}(o,r)),ie(s,l)),t[e][S]=l}function oe(e,t){var a=e[S]={};t instanceof E?(a.oldX=t.x,a.oldY=t.y):a.oldShape=(0,o.extend)({},t.shape)}function ie(e,t){var a=e[S]={},o=l.parentNode,r=t instanceof y.Z;if(o&&(!n||"drillDown"===n.direction)){var s=0,u=0,d=i.background[o.getRawIndex()];!n&&d&&d.oldShape&&(s=d.oldShape.width,u=d.oldShape.height),r?(a.oldX=0,a.oldY=u):a.oldShape={x:s,y:u,width:0,height:0}}a.fadein=!r}}(t,l,s,a,r,u,e,n,i,h)}!function e(t,a,n,i,r){i?(a=t,(0,o.each)(t,(function(e,t){!e.isRemoved()&&s(t,t)}))):new b.Z(a,t,l,l).add(s).update(s).remove((0,o.curry)(s,null)).execute();function l(e){return e.getId()}function s(o,l){var s=null!=o?t[o]:null,u=null!=l?a[l]:null,d=h(s,u,n,r);d&&e(s&&s.viewChildren||[],u&&u.viewChildren||[],d,i,r+1)}}(n.root?[n.root]:[],i&&i.root?[i.root]:[],e,n===i||!i,0);var c=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&(0,o.each)(e,(function(e,a){var n=t[a];(0,o.each)(e,(function(e){e&&(n.push(e),Y(e).willDelete=!0)}))})),t}(s);return this._oldTree=n,this._storage=l,{lastsForAnimation:r,willDeleteEls:c,renderFinally:function(){(0,o.each)(c,(function(e){(0,o.each)(e,(function(e){e.parent&&e.parent.remove(e)}))})),(0,o.each)(u,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,a,n){var i=a.get("animationDurationUpdate"),r=a.get("animationEasing"),l=((0,o.isFunction)(i)?0:i)||0,s=((0,o.isFunction)(r)?null:r)||"cubicOut",u=P.o();(0,o.each)(t.willDeleteEls,(function(e,t){(0,o.each)(e,(function(e,a){if(!e.invisible){var o,i=e.parent,r=Y(i);if(n&&"drillDown"===n.direction)o=i===n.rootNodeGroup?{shape:{x:0,y:0,width:r.nodeWidth,height:r.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;r.willDelete||(d=r.nodeWidth/2,h=r.nodeHeight/2),o="nodeGroup"===t?{x:d,y:h,style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}o&&u.add(e,o,l,0,s)}}))})),(0,o.each)(this._storage,(function(e,a){(0,o.each)(e,(function(e,n){var i=t.lastsForAnimation[a][n],r={};i&&(e instanceof y.Z?null!=i.oldX&&(r.x=e.x,r.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(r.shape=(0,o.extend)({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle("opacity",0),r.style={opacity:1}):1!==e.style.opacity&&(r.style={opacity:1})),u.add(e,r,l,0,s))}))}),this),this._state="animating",u.finished((0,o.bind)((function(){this._state="ready",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller;t||((t=this._controller=new T.Z(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",(0,o.bind)(this._onPan,this)),t.on("zoom",(0,o.bind)(this._onZoom,this)));var a=new A.Z(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,n){return a.contain(t,n)}))},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var a=t.getLayout();if(!a)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+e.dx,y:a.y+e.dy,width:a.width,height:a.height}})}},t.prototype._onZoom=function(e){var t=e.originX,a=e.originY;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var i=new A.Z(o.x,o.y,o.width,o.height),r=this.seriesModel.layoutInfo;t-=r.x,a-=r.y;var l=C.create();C.translate(l,l,[-t,-a]),C.scale(l,l,[e.scale,e.scale]),C.translate(l,l,[t,a]),i.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x,y:i.y,width:i.width,height:i.height}})}},t.prototype._initEvents=function(e){var t=this;e.on("click",(function(e){if("ready"===t._state){var a=t.seriesModel.get("nodeClick",!0);if(a){var n=t.findTarget(e.offsetX,e.offsetY);if(n){var o=n.node;if(o.getLayout().isLeafRoot)t._rootToNode(n);else if("zoomToNode"===a)t._zoomToNode(n);else if("link"===a){var i=o.hostTree.data.getItemModel(o.dataIndex),r=i.get("link",!0),l=i.get("target",!0)||"blank";r&&(0,R.MI)(r,l)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,a){var o=this;a||(a=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(a={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new N(this.group))).render(e,t,a.node,(function(t){"animating"!==o._state&&(n.Gx(e.getViewRoot(),t)?o._rootToNode({node:t}):o._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var a;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(n){var o=this._storage.background[n.getRawIndex()];if(o){var i=o.transformCoordToLocal(e,t),r=o.shape;if(!(r.x<=i[0]&&i[0]<=r.x+r.width&&r.y<=i[1]&&i[1]<=r.y+r.height))return!1;a={node:n,offsetX:i[0],offsetY:i[1]}}}),this),a},t.type="treemap",t}(k.Z);const q=U;var j=a(59937),K=a(21092),J=(0,d.Yf)();const $={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||Q(t,{},e.getViewRoot().getAncestors(),e)}};function Q(e,t,a,n){var i=e.getModel(),r=e.getLayout(),l=e.hostTree.data;if(r&&!r.invisible&&r.isInView){var s,u=i.getModel("itemStyle"),d=function(e,t,a){var n=(0,o.extend)({},t),i=a.designatedVisualItemStyle;return(0,o.each)(["color","colorAlpha","colorSaturation"],(function(a){i[a]=t[a];var o=e.get(a);i[a]=null,null!=o&&(n[a]=o)})),n}(u,t,n),h=l.ensureUniqueItemVisual(e.dataIndex,"style"),c=u.get("borderColor"),p=u.get("borderColorSaturation");null!=p&&(c=function(e,t){return null!=t?(0,K.modifyHSL)(t,null,null,e):null}(p,s=ee(d))),h.stroke=c;var g=e.viewChildren;if(g&&g.length){var f=function(e,t,a,n,o,i){if(!i||!i.length)return;var r=ae(t,"color")||null!=o.color&&"none"!==o.color&&(ae(t,"colorAlpha")||ae(t,"colorSaturation"));if(!r)return;var l=t.get("visualMin"),s=t.get("visualMax"),u=a.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=s&&s>u[1]&&(u[1]=s);var d=t.get("colorMappingBy"),h={type:r.name,dataExtent:u,visual:r.range};"color"!==h.type||"index"!==d&&"id"!==d?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var c=new j.Z(h);return J(c).drColorMappingBy=d,c}(0,i,r,0,d,g);(0,o.each)(g,(function(e,t){if(e.depth>=a.length||e===a[e.depth]){var r=function(e,t,a,n,i,r){var l=(0,o.extend)({},t);if(i){var s=i.type,u="color"===s&&J(i).drColorMappingBy,d="index"===u?n:"id"===u?r.mapIdToIndex(a.getId()):a.getValue(e.get("visualDimension"));l[s]=i.mapValueToVisual(d)}return l}(i,d,e,t,f,n);Q(e,r,a,n)}}))}else s=ee(d),h.fill=s}}function ee(e){var t=te(e,"color");if(t){var a=te(e,"colorAlpha"),n=te(e,"colorSaturation");return n&&(t=(0,K.modifyHSL)(t,null,null,n)),a&&(t=(0,K.modifyAlpha)(t,a)),t}}function te(e,t){var a=e[t];if(null!=a&&"none"!==a)return a}function ae(e,t){var a=e.get(t);return(0,o.isArray)(a)&&a.length?{name:t,range:a}:null}var ne=a(85669),oe=Math.max,ie=Math.min,re=o.retrieve,le=o.each,se=["itemStyle","borderWidth"],ue=["itemStyle","gapWidth"],de=["upperLabel","show"],he=["upperLabel","height"];const ce={seriesType:"treemap",reset:function(e,t,a,i){var r=a.getWidth(),l=a.getHeight(),s=e.option,u=_.ME(e.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()}),d=s.size||[],h=(0,ne.GM)(re(u.width,d[0]),r),c=(0,ne.GM)(re(u.height,d[1]),l),p=i&&i.type,g=n.d1(i,["treemapZoomToNode","treemapRootToNode"],e),f="treemapRender"===p||"treemapMove"===p?i.rootRect:null,y=e.getViewRoot(),v=n.zN(y);if("treemapMove"!==p){var m="treemapZoomToNode"===p?function(e,t,a,n,o){var i,r=(t||{}).node,l=[n,o];if(!r||r===a)return l;var s=n*o,u=s*e.option.zoomToNodeRatio;for(;i=r.parentNode;){for(var d=0,h=i.children,c=0,p=h.length;c<p;c++)d+=h[c].getValue();var g=r.getValue();if(0===g)return l;u*=d/g;var f=i.getModel(),y=f.get(se);(u+=4*y*y+(3*y+Math.max(y,ve(f)))*Math.pow(u,.5))>ne.YM&&(u=ne.YM),r=i}u<s&&(u=s);var v=Math.pow(u/s,.5);return[n*v,o*v]}(e,g,y,h,c):f?[f.width,f.height]:[h,c],x=s.sort;x&&"asc"!==x&&"desc"!==x&&(x="desc");var b={squareRatio:s.squareRatio,sort:x,leafDepth:s.leafDepth};y.hostTree.clearLayouts();var w={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};y.setLayout(w),pe(y,b,!1,0),w=y.getLayout(),le(v,(function(e,t){var a=(v[t+1]||y).getValue();e.setLayout(o.extend({dataExtent:[a,a],borderWidth:0,upperHeight:0},w))}))}var S=e.getData().tree.root;S.setLayout(function(e,t,a){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!a)return n;var o=a.node,i=o.getLayout();if(!i)return n;var r=[i.width/2,i.height/2],l=o;for(;l;){var s=l.getLayout();r[0]+=s.x,r[1]+=s.y,l=l.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}(u,f,g),!0),e.setLayoutInfo(u),ye(S,new A.Z(-u.x,-u.y,r,l),v,y,0)}};function pe(e,t,a,n){var i,r;if(!e.isRemoved()){var l=e.getLayout();i=l.width,r=l.height;var s=e.getModel(),u=s.get(se),d=s.get(ue)/2,h=ve(s),c=Math.max(u,h),p=u-d,g=c-d;e.setLayout({borderWidth:u,upperHeight:c,upperLabelHeight:h},!0);var f=(i=oe(i-2*p,0))*(r=oe(r-p-g,0)),y=function(e,t,a,n,i,r){var l=e.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var u=null!=n.leafDepth&&n.leafDepth<=r;if(i&&!u)return e.viewChildren=[];l=o.filter(l,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,a){var n="asc"===t?e.getValue()-a.getValue():a.getValue()-e.getValue();return 0===n?"asc"===t?e.dataIndex-a.dataIndex:a.dataIndex-e.dataIndex:n}))}(l,s);var d=function(e,t,a){for(var n=0,o=0,i=t.length;o<i;o++)n+=t[o].getValue();var r,l=e.get("visualDimension");t&&t.length?"value"===l&&a?(r=[t[t.length-1].getValue(),t[0].getValue()],"asc"===a&&r.reverse()):(r=[1/0,-1/0],le(t,(function(e){var t=e.getValue(l);t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}))):r=[NaN,NaN];return{sum:n,dataExtent:r}}(t,l,s);if(0===d.sum)return e.viewChildren=[];if(d.sum=function(e,t,a,n,o){if(!n)return a;for(var i=e.get("visibleMin"),r=o.length,l=r,s=r-1;s>=0;s--){var u=o["asc"===n?r-s-1:s].getValue();u/a*t<i&&(l=s,a-=u)}return"asc"===n?o.splice(0,r-l):o.splice(l,r-l),a}(t,a,d.sum,s,l),0===d.sum)return e.viewChildren=[];for(var h=0,c=l.length;h<c;h++){var p=l[h].getValue()/d.sum*a;l[h].setLayout({area:p})}u&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0);return e.viewChildren=l,e.setLayout({dataExtent:d.dataExtent},!0),l}(e,s,f,t,a,n);if(y.length){var v={x:p,y:g,width:i,height:r},m=ie(i,r),x=1/0,b=[];b.area=0;for(var w=0,S=y.length;w<S;){var _=y[w];b.push(_),b.area+=_.getLayout().area;var I=ge(b,m,t.squareRatio);I<=x?(w++,x=I):(b.area-=b.pop().getLayout().area,fe(b,m,v,d,!1),m=ie(v.width,v.height),b.length=b.area=0,x=1/0)}if(b.length&&fe(b,m,v,d,!0),!a){var M=s.get("childrenVisibleMin");null!=M&&f<M&&(a=!0)}for(w=0,S=y.length;w<S;w++)pe(y[w],t,a,n+1)}}}function ge(e,t,a){for(var n=0,o=1/0,i=0,r=void 0,l=e.length;i<l;i++)(r=e[i].getLayout().area)&&(r<o&&(o=r),r>n&&(n=r));var s=e.area*e.area,u=t*t*a;return s?oe(u*n/s,s/(u*o)):1/0}function fe(e,t,a,n,o){var i=t===a.width?0:1,r=1-i,l=["x","y"],s=["width","height"],u=a[l[i]],d=t?e.area/t:0;(o||d>a[s[r]])&&(d=a[s[r]]);for(var h=0,c=e.length;h<c;h++){var p=e[h],g={},f=d?p.getLayout().area/d:0,y=g[s[r]]=oe(d-2*n,0),v=a[l[i]]+a[s[i]]-u,m=h===c-1||v<f?v:f,x=g[s[i]]=oe(m-2*n,0);g[l[r]]=a[l[r]]+ie(n,y/2),g[l[i]]=u+ie(n,x/2),u+=m,p.setLayout(g,!0)}a[l[r]]+=d,a[s[r]]-=d}function ye(e,t,a,n,o){var i=e.getLayout(),r=a[o],l=r&&r===e;if(!(r&&!l||o===a.length&&e!==n)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(i),isAboveViewRoot:l},!0);var s=new A.Z(t.x-i.x,t.y-i.y,t.width,t.height);le(e.viewChildren||[],(function(e){ye(e,s,a,n,o+1)}))}}function ve(e){return e.get(de)?e.get(he):0}function me(e){e.registerSeriesModel(f),e.registerChartView(q),e.registerVisual($),e.registerLayout(ce),function(e){for(var t=0;t<i.length;t++)e.registerAction({type:i[t],update:"updateView"},o.noop);e.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},(function(t,a){var o=n.d1(e,["treemapZoomToNode","treemapRootToNode"],t);if(o){var i=t.getViewRoot();i&&(e.direction=n.Gx(i,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}))}))}(e)}}}]);